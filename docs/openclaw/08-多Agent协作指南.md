# 08. å¤š Agent åä½œæŒ‡å—

> ğŸ”´ **éš¾åº¦ï¼šé«˜çº§** | â±ï¸ é˜…è¯»æ—¶é—´ï¼š35 åˆ†é’Ÿ | ğŸ“‹ å‰ç½®çŸ¥è¯†ï¼šå·²ç†Ÿæ‚‰åŸºæœ¬ä½¿ç”¨ï¼ˆ[03-å¿«é€Ÿå¼€å§‹](03-å¿«é€Ÿå¼€å§‹æŒ‡å—.md)ï¼‰+ äº†è§£æŠ€èƒ½ç³»ç»Ÿï¼ˆ[06-æŠ€èƒ½ç³»ç»Ÿ](06-æŠ€èƒ½ç³»ç»ŸæŒ‡å—.md)ï¼‰
>
> **æœ¬ç¯‡ä½ å°†å­¦ä¼šï¼š** åˆ›å»ºå¤šä¸ª AI åŠ©æ‰‹ã€é…ç½®åˆ†å·¥åä½œã€è®¾ç½®æ¶ˆæ¯è·¯ç”±ã€ç®¡ç† Agent é—´é€šä¿¡
>
> **å¤§å¤šæ•°äººä¸éœ€è¦è¿™ç¯‡ï¼** å¦‚æœä½ åªæ˜¯ä¸ªäººä½¿ç”¨ï¼Œä¸€ä¸ªé»˜è®¤çš„ main Agent å°±å¤Ÿäº†ã€‚åªæœ‰å½“ä½ éœ€è¦"ä¸åŒå¹³å°ç”¨ä¸åŒ AI æ€§æ ¼"æˆ–"å›¢é˜Ÿå¤šäººä½¿ç”¨"æ—¶æ‰éœ€è¦çœ‹è¿™ç¯‡

## ä»€ä¹ˆæ˜¯ Agentï¼Ÿ

åœ¨ OpenClaw çš„ä¸–ç•Œé‡Œï¼ŒAgent å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ AI åŠ©æ‰‹å®ä¾‹ã€‚æ¯ä¸ª Agent æœ‰è‡ªå·±çš„"å¤§è„‘"ï¼ˆç³»ç»ŸæŒ‡ä»¤ï¼‰ã€"è®°å¿†"ï¼ˆè®°å¿†æ–‡ä»¶ï¼‰ã€"æŠ€èƒ½"ï¼ˆæŠ€èƒ½é›†ï¼‰å’Œ"èº«ä»½"ï¼ˆè®¤è¯å‡­è¯ï¼‰ã€‚

ä½ å¯ä»¥æŠŠ Agent æƒ³è±¡æˆå…¬å¸é‡Œçš„å‘˜å·¥ï¼š

```
Agent = ä¸€ä¸ªç‹¬ç«‹çš„ AI å‘˜å·¥

å®ƒæœ‰ï¼š
â”œâ”€â”€ è‡ªå·±çš„å·¥ä½ï¼ˆå·¥ä½œç©ºé—´ç›®å½•ï¼‰
â”œâ”€â”€ è‡ªå·±çš„å·¥ç‰Œï¼ˆè®¤è¯å‡­è¯ï¼‰
â”œâ”€â”€ è‡ªå·±çš„ç¬”è®°æœ¬ï¼ˆè®°å¿†æ–‡ä»¶ï¼‰
â”œâ”€â”€ è‡ªå·±çš„æŠ€èƒ½è¯ä¹¦ï¼ˆæŠ€èƒ½é›†ï¼‰
â”œâ”€â”€ è‡ªå·±çš„æ€§æ ¼ï¼ˆSOUL.md äººæ ¼è®¾å®šï¼‰
â””â”€â”€ è‡ªå·±çš„å·¥ä½œæ—¥å¿—ï¼ˆä¼šè¯å†å²ï¼‰
```

> ğŸ’¡ **æœ¯è¯­è¯´æ˜ï¼š** ä¸Šé¢æåˆ°çš„ `SOUL.md` æ˜¯ Agent çš„äººæ ¼è®¾å®šæ–‡ä»¶ï¼Œå®šä¹‰ AI çš„æ€§æ ¼å’Œè¡Œä¸ºé£æ ¼ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒOpenClaw åªæœ‰ä¸€ä¸ª `main` Agentã€‚å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œä¸€ä¸ª Agent å°±å¤Ÿäº† -- å®ƒèƒ½å¤„ç†ä½ æ‰€æœ‰çš„æ¶ˆæ¯ã€æ‰§è¡Œæ‰€æœ‰çš„ä»»åŠ¡ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦å¤šä¸ª Agentï¼Ÿ

ä¸€ä¸ª Agent ä»€ä¹ˆéƒ½å¹²ï¼Œå¬èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†å®é™…ç”¨èµ·æ¥ä¼šé‡åˆ°é—®é¢˜ï¼š

**é—®é¢˜ä¸€ï¼šä¸Šä¸‹æ–‡æ±¡æŸ“**

å½“ä½ è®©åŒä¸€ä¸ª Agent æ—¢å†™ä»£ç åˆç®¡æ—¥ç¨‹ï¼Œå®ƒçš„ç³»ç»Ÿæç¤ºè¯ä¼šå˜å¾—å¾ˆé•¿ã€‚å†™ä»£ç æ—¶åŠ è½½äº†ä¸€å †æ—¥å†ç›¸å…³çš„æŠ€èƒ½æŒ‡ä»¤ï¼Œç®¡æ—¥ç¨‹æ—¶åˆå¸¦ç€ä¸€å †ç¼–ç¨‹å·¥å…·çš„æè¿°ã€‚è¿™äº›æ— å…³ä¿¡æ¯ä¼šï¼š
- æµªè´¹ tokenï¼ˆèŠ±æ›´å¤šé’±ï¼‰
- é™ä½ AI çš„ä¸“æ³¨åº¦ï¼ˆå›ç­”è´¨é‡ä¸‹é™ï¼‰
- å¢åŠ è¯¯è§¦å‘çš„æ¦‚ç‡ï¼ˆè¯¥ç”¨ A æŠ€èƒ½æ—¶ç”¨äº† Bï¼‰

**é—®é¢˜äºŒï¼šäººæ ¼å†²çª**

ä½ å¸Œæœ›ç¼–ç¨‹åŠ©æ‰‹ä¸¥è°¨ã€ç²¾ç¡®ã€ä»£ç ä¼˜å…ˆï¼›ä½†ä½ å¸Œæœ›ç¤¾äº¤åŠ©æ‰‹è½»æ¾ã€å¹½é»˜ã€å–„äºé—²èŠã€‚ä¸€ä¸ª Agent å¾ˆéš¾åŒæ—¶æ‰®æ¼”ä¸¤ç§æˆªç„¶ä¸åŒçš„è§’è‰²ã€‚

**é—®é¢˜ä¸‰ï¼šå®‰å…¨éš”ç¦»**

ç¼–ç¨‹ Agent éœ€è¦è®¿é—® GitHubã€æ‰§è¡Œ Shell å‘½ä»¤ï¼›ä½†ä½ ä¸å¸Œæœ›ç¤¾äº¤ Agent ä¹Ÿæœ‰è¿™äº›æƒé™ã€‚ä¸‡ä¸€æœ‰äººé€šè¿‡ç¤¾äº¤å¹³å°å‘äº†ä¸€æ¡æ¶æ„æ¶ˆæ¯ï¼Œè§¦å‘äº† Shell å‘½ä»¤æ‰§è¡Œï¼Œåæœä¸å ªè®¾æƒ³ã€‚

**é—®é¢˜å››ï¼šæ¶ˆæ¯è·¯ç”±**

ä½ å¯èƒ½å¸Œæœ› Discord çš„ #coding é¢‘é“ç”±ç¼–ç¨‹ Agent å¤„ç†ï¼ŒTelegram çš„å®¶åº­ç¾¤ç”±ç”Ÿæ´» Agent å¤„ç†ã€‚ä¸€ä¸ª Agent æ²¡æ³•æ ¹æ®æ¶ˆæ¯æ¥æºè‡ªåŠ¨åˆ‡æ¢è¡Œä¸ºæ¨¡å¼ã€‚

å¤š Agent æ¶æ„å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼š

```
å• Agent æ¨¡å¼ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰€æœ‰æ¶ˆæ¯ â†’ main Agent â†’ æ‰€æœ‰æŠ€èƒ½    â”‚
â”‚  ï¼ˆä¸Šä¸‹æ–‡è‡ƒè‚¿ï¼Œè§’è‰²æ··ä¹±ï¼‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤š Agent æ¨¡å¼ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Discord #coding â†’ coding Agent     â”‚
â”‚                    ï¼ˆåªåŠ è½½å¼€å‘æŠ€èƒ½ï¼‰  â”‚
â”‚                                     â”‚
â”‚  Telegram å®¶åº­ç¾¤ â†’ home Agent       â”‚
â”‚                    ï¼ˆåªåŠ è½½ç”Ÿæ´»æŠ€èƒ½ï¼‰  â”‚
â”‚                                     â”‚
â”‚  WhatsApp ç§èŠ â†’ main Agent         â”‚
â”‚                  ï¼ˆé€šç”¨æŠ€èƒ½ï¼‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## OpenClaw çš„ Agent æ¶æ„

### æ¶æ„æ€»è§ˆ

> â­ï¸ **å°ç™½å¯è·³è¿‡** â€” è¿™æ˜¯åº•å±‚è¿è¡Œæ—¶ç»†èŠ‚

OpenClaw çš„å¤š Agent æ¶æ„åŸºäº Pi agent runtimeï¼ˆRPC æ¨¡å¼ï¼‰è¿è¡Œï¼Œé‡‡ç”¨**æ‰å¹³è·¯ç”±æ¨¡å‹**ï¼Œä¸æ˜¯å±‚çº§ç®¡ç†æ¨¡å‹ã€‚æ²¡æœ‰"ç®¡ç†è€… Agent"æ¥è°ƒåº¦å…¶ä»– Agentï¼Œè€Œæ˜¯ç”± Gateway æ ¹æ®æ¶ˆæ¯æ¥æºç›´æ¥è·¯ç”±åˆ°å¯¹åº”çš„ Agentã€‚æ¯ä¸ª Agent é€šè¿‡ channel routingï¼ˆæ¶ˆæ¯è·¯ç”±ï¼Œå†³å®šå“ªæ¡æ¶ˆæ¯ç”±å“ªä¸ª Agent å¤„ç†ï¼‰é…ç½®ç»‘å®šåˆ°ä¸åŒçš„é¢‘é“æˆ–è´¦å·ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ¶ˆæ¯å¹³å°å±‚                                â”‚
â”‚  WhatsApp â”‚ Telegram â”‚ Discord â”‚ Slack â”‚ Signal â”‚ WebChat   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Gateway è·¯ç”±å¼•æ“                             â”‚
â”‚                                                              â”‚
â”‚  æ¶ˆæ¯è¿›æ¥ â†’ æ£€æŸ¥ bindings é…ç½® â†’ åŒ¹é… Agent                   â”‚
â”‚                                                              â”‚
â”‚  è·¯ç”±è§„åˆ™ï¼š                                                    â”‚
â”‚  â”œâ”€â”€ Discord #coding é¢‘é“ â†’ coding Agent                     â”‚
â”‚  â”œâ”€â”€ Telegram ç¾¤ -100xxxxx â†’ social Agent                    â”‚
â”‚  â”œâ”€â”€ Slack #team é¢‘é“ â†’ work Agent                           â”‚
â”‚  â””â”€â”€ å…¶ä»–æ‰€æœ‰æ¶ˆæ¯ â†’ main Agentï¼ˆé»˜è®¤ï¼‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚          â”‚          â”‚          â”‚
       â–¼          â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  main    â”‚â”‚  coding  â”‚â”‚  social  â”‚â”‚  work    â”‚
â”‚  Agent   â”‚â”‚  Agent   â”‚â”‚  Agent   â”‚â”‚  Agent   â”‚
â”‚          â”‚â”‚          â”‚â”‚          â”‚â”‚          â”‚
â”‚ å·¥ä½œç©ºé—´  â”‚â”‚ å·¥ä½œç©ºé—´  â”‚â”‚ å·¥ä½œç©ºé—´  â”‚â”‚ å·¥ä½œç©ºé—´  â”‚
â”‚ è®°å¿†æ–‡ä»¶  â”‚â”‚ è®°å¿†æ–‡ä»¶  â”‚â”‚ è®°å¿†æ–‡ä»¶  â”‚â”‚ è®°å¿†æ–‡ä»¶  â”‚
â”‚ æŠ€èƒ½é›†   â”‚â”‚ æŠ€èƒ½é›†   â”‚â”‚ æŠ€èƒ½é›†   â”‚â”‚ æŠ€èƒ½é›†   â”‚
â”‚ è®¤è¯å‡­è¯  â”‚â”‚ è®¤è¯å‡­è¯  â”‚â”‚ è®¤è¯å‡­è¯  â”‚â”‚ è®¤è¯å‡­è¯  â”‚
â”‚ SOUL.md  â”‚â”‚ SOUL.md  â”‚â”‚ SOUL.md  â”‚â”‚ SOUL.md  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®è®¾è®¡å†³ç­–

**ä¸ºä»€ä¹ˆæ˜¯æ‰å¹³è·¯ç”±è€Œä¸æ˜¯å±‚çº§ç®¡ç†ï¼Ÿ**

OpenClaw å®˜æ–¹æ˜ç¡®è¡¨ç¤ºä¸ä¼šåˆå¹¶"Agent å±‚çº§æ¡†æ¶ï¼ˆç®¡ç†è€…çš„ç®¡ç†è€…/åµŒå¥—è§„åˆ’æ ‘ï¼‰"ã€‚åŸå› å¾ˆå®é™…ï¼š

1. å±‚çº§ç®¡ç†å¢åŠ å»¶è¿Ÿ -- æ¶ˆæ¯è¦å…ˆç»è¿‡ç®¡ç†è€… Agent åˆ¤æ–­ï¼Œå†è½¬å‘ç»™å·¥ä½œ Agent
2. ç®¡ç†è€… Agent æœ¬èº«ä¹Ÿæ¶ˆè€— token -- æ¯æ¡æ¶ˆæ¯å¤šä¸€æ¬¡ AI è°ƒç”¨
3. è·¯ç”±è§„åˆ™æ˜¯ç¡®å®šæ€§çš„ -- ä¸éœ€è¦ AI æ¥åˆ¤æ–­æ¶ˆæ¯è¯¥ç»™è°ï¼Œé…ç½®æ–‡ä»¶å°±èƒ½æå®š
4. ç®€å•å¯é  -- è¶Šå°‘çš„ä¸­é—´ç¯èŠ‚ï¼Œè¶Šå°‘çš„å‡ºé”™æœºä¼š

**æ¯ä¸ª Agent æ˜¯å®Œå…¨ç‹¬ç«‹çš„**

Agent ä¹‹é—´é»˜è®¤æ²¡æœ‰ä»»ä½•å…±äº«ï¼š

| èµ„æº | æ˜¯å¦å…±äº« | è¯´æ˜ |
|------|----------|------|
| å·¥ä½œç©ºé—´ | å¦ | æ¯ä¸ª Agent æœ‰ç‹¬ç«‹çš„å·¥ä½œç›®å½• |
| è®°å¿†æ–‡ä»¶ | å¦ | æ¯ä¸ª Agent æœ‰ç‹¬ç«‹çš„ MEMORY.md å’Œæ—¥å¿— |
| ä¼šè¯å†å² | å¦ | æ¯ä¸ª Agent çš„å¯¹è¯è®°å½•å®Œå…¨éš”ç¦» |
| è®¤è¯å‡­è¯ | å¦ | æ¯ä¸ª Agent çš„ auth-profiles.json ç‹¬ç«‹ |
| æŠ€èƒ½é…ç½® | å¯é€‰ | å¯ä»¥é…ç½® Agent çº§åˆ«çš„æŠ€èƒ½ç™½åå• |
| AI æ¨¡å‹ | å¯é€‰ | å¯ä»¥ä¸ºæ¯ä¸ª Agent æŒ‡å®šä¸åŒçš„æ¨¡å‹ |

### ç›®å½•ç»“æ„è¯¦è§£

```
~/.openclaw/
â”œâ”€â”€ openclaw.json              # ä¸»é…ç½®æ–‡ä»¶ï¼ˆåŒ…å« Agent åˆ—è¡¨å’Œè·¯ç”±è§„åˆ™ï¼‰
â”‚
â”œâ”€â”€ agents/                    # Agent çŠ¶æ€ç›®å½•
â”‚   â”œâ”€â”€ main/                  # é»˜è®¤ Agent
â”‚   â”‚   â”œâ”€â”€ agent/
â”‚   â”‚   â”‚   â””â”€â”€ auth-profiles.json    # main çš„è®¤è¯å‡­è¯
â”‚   â”‚   â””â”€â”€ sessions/                  # main çš„ä¼šè¯å†å²
â”‚   â”‚       â”œâ”€â”€ session-abc123.json
â”‚   â”‚       â””â”€â”€ session-def456.json
â”‚   â”‚
â”‚   â”œâ”€â”€ coding/                # ç¼–ç¨‹ Agent
â”‚   â”‚   â”œâ”€â”€ agent/
â”‚   â”‚   â”‚   â””â”€â”€ auth-profiles.json    # coding çš„è®¤è¯å‡­è¯
â”‚   â”‚   â””â”€â”€ sessions/                  # coding çš„ä¼šè¯å†å²
â”‚   â”‚
â”‚   â””â”€â”€ social/                # ç¤¾äº¤ Agent
â”‚       â”œâ”€â”€ agent/
â”‚       â”‚   â””â”€â”€ auth-profiles.json    # social çš„è®¤è¯å‡­è¯
â”‚       â””â”€â”€ sessions/                  # social çš„ä¼šè¯å†å²
â”‚
â”œâ”€â”€ workspace/                 # main Agent çš„å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ SOUL.md               # main çš„äººæ ¼è®¾å®š
â”‚   â”œâ”€â”€ AGENTS.md             # Agent åä½œè¯´æ˜
â”‚   â”œâ”€â”€ USER.md               # ç”¨æˆ·ä¿¡æ¯
â”‚   â”œâ”€â”€ MEMORY.md             # main çš„é•¿æœŸè®°å¿†
â”‚   â”œâ”€â”€ memory/               # main çš„æ¯æ—¥æ—¥å¿—
â”‚   â””â”€â”€ skills/               # main çš„å·¥ä½œç©ºé—´æŠ€èƒ½
â”‚
â”œâ”€â”€ workspace-coding/          # coding Agent çš„å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ SOUL.md               # coding çš„äººæ ¼è®¾å®š
â”‚   â”œâ”€â”€ MEMORY.md             # coding çš„é•¿æœŸè®°å¿†
â”‚   â”œâ”€â”€ memory/               # coding çš„æ¯æ—¥æ—¥å¿—
â”‚   â””â”€â”€ skills/               # coding çš„å·¥ä½œç©ºé—´æŠ€èƒ½
â”‚
â””â”€â”€ workspace-social/          # social Agent çš„å·¥ä½œç©ºé—´
    â”œâ”€â”€ SOUL.md               # social çš„äººæ ¼è®¾å®š
    â”œâ”€â”€ MEMORY.md             # social çš„é•¿æœŸè®°å¿†
    â”œâ”€â”€ memory/               # social çš„æ¯æ—¥æ—¥å¿—
    â””â”€â”€ skills/               # social çš„å·¥ä½œç©ºé—´æŠ€èƒ½
```

æ¯ä¸ª Agent çš„å·¥ä½œç©ºé—´æ˜¯å®ƒçš„"å®¶"ã€‚AI çš„æ–‡ä»¶æ“ä½œé»˜è®¤åœ¨è¿™ä¸ªç›®å½•ä¸‹è¿›è¡Œï¼Œè®°å¿†æ–‡ä»¶ä¹Ÿå­˜åœ¨è¿™é‡Œã€‚å…¶ä¸­ `AGENTS.md`ï¼ˆAgent çš„ç³»ç»ŸæŒ‡ä»¤æ–‡ä»¶ï¼‰å®šä¹‰äº† Agent ä¹‹é—´çš„åä½œè§„åˆ™ã€‚

## Agent è§’è‰²å®šä¹‰å’Œé…ç½®

### åˆ›å»ºæ–° Agent

```bash
# ä½¿ç”¨å‘å¯¼åˆ›å»ºï¼ˆæ¨èï¼‰
openclaw agents add coding
openclaw agents add social
openclaw agents add work

# æ¯ä¸ª Agent ä¼šè‡ªåŠ¨åˆ›å»ºï¼š
# - ç‹¬ç«‹çš„å·¥ä½œç©ºé—´ï¼ˆSOUL.md, AGENTS.md, USER.mdï¼‰
# - ç‹¬ç«‹çš„ agentDir å’Œä¼šè¯å­˜å‚¨
# - ç‹¬ç«‹çš„ auth-profiles.json
```

### æŸ¥çœ‹å’Œç®¡ç† Agent

```bash
# åˆ—å‡ºæ‰€æœ‰ Agent
openclaw agents list

# æ›´æ–° Agent çš„èº«ä»½è®¾å®š
openclaw agents set-identity
```

### åœ¨ openclaw.jsonï¼ˆJSON5ï¼‰ä¸­é…ç½® Agent

Agent çš„æ ¸å¿ƒé…ç½®åœ¨ `~/.openclaw/openclaw.json`ï¼ˆJSON5 æ ¼å¼ï¼‰çš„ `agents` å­—æ®µä¸­ï¼š

```json5
{
  "agents": {
    "defaults": {
      "model": "anthropic:claude-opus-4-6",
      "maxTokens": 8192,
      "temperature": 0.7,
      "sandbox": {
        // éä¸»ä¼šè¯åœ¨ Docker æ²™ç®±ä¸­è¿è¡Œ
        "mode": "non-main",
      },
    },
    "list": [
      {
        "agentId": "main",
        "workspace": "~/.openclaw/workspace",
        "model": "anthropic:claude-opus-4-6",
      },
      {
        "agentId": "coding",
        "workspace": "~/.openclaw/workspace-coding",
        "model": "anthropic:claude-opus-4-6",
        "temperature": 0.3,
        "skills": {
          "enabled": ["coding-agent", "github", "gh-issues", "tmux"],
        },
        "bindings": [
          {
            "channel": "discord",
            "guildId": "123456789",
            "channelId": "987654321",
          },
        ],
      },
      {
        "agentId": "social",
        "workspace": "~/.openclaw/workspace-social",
        "model": "openai:gpt-5.2",
        "temperature": 0.9,
        "skills": {
          "enabled": ["summarize", "weather", "goplaces"],
        },
        "bindings": [
          {
            "channel": "telegram",
            "chatId": "-100123456789",
          },
        ],
      },
      {
        "agentId": "work",
        "workspace": "~/.openclaw/workspace-work",
        "model": "anthropic:claude-sonnet-4-6",
        "skills": {
          "enabled": ["gog", "slack", "notion", "trello", "summarize"],
        },
        "bindings": [
          {
            "channel": "slack",
            "teamId": "T01234567",
            "channelId": "C01234567",
          },
        ],
      },
    ],
  },
}
```

### Agent é…ç½®å­—æ®µè¯¦è§£

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `agentId` | `string` | æ˜¯ | Agent å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåªèƒ½ç”¨å­—æ¯ã€æ•°å­—ã€è¿å­—ç¬¦ |
| `workspace` | `string` | æ˜¯ | å·¥ä½œç©ºé—´ç›®å½•è·¯å¾„ |
| `model` | `string` | å¦ | AI æ¨¡å‹ï¼ˆè¦†ç›–å…¨å±€é»˜è®¤å€¼ï¼‰ |
| `temperature` | `number` | å¦ | æ¸©åº¦å‚æ•°ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šæœ‰åˆ›æ„ï¼‰ |
| `maxTokens` | `number` | å¦ | æœ€å¤§è¾“å‡º token æ•° |
| `skills` | `object` | å¦ | Agent çº§åˆ«çš„æŠ€èƒ½é…ç½® |
| `bindings` | `array` | å¦ | æ¶ˆæ¯å¹³å°ç»‘å®šè§„åˆ™ |
| `sandbox` | `object` | å¦ | æ²™ç®±é…ç½® |

### Agent äººæ ¼è®¾å®šï¼ˆSOUL.mdï¼‰

æ¯ä¸ª Agent çš„å·¥ä½œç©ºé—´é‡Œæœ‰ä¸€ä¸ª `SOUL.md` æ–‡ä»¶ï¼Œè¿™æ˜¯ Agent çš„"çµé­‚"ã€‚AI åœ¨æ¯æ¬¡ä¼šè¯å¯åŠ¨æ—¶éƒ½ä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œä½œä¸ºç³»ç»ŸæŒ‡ä»¤çš„ä¸€éƒ¨åˆ†ã€‚

**ç¼–ç¨‹ Agent çš„ SOUL.md ç¤ºä¾‹ï¼š**

```markdown
# coding Agent

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œä¸“æ³¨äºå¸®åŠ©ç”¨æˆ·å†™ä»£ç ã€è°ƒè¯•å’Œæ¶æ„è®¾è®¡ã€‚

## æ€§æ ¼
- ä¸¥è°¨ã€ç²¾ç¡®ã€é€»è¾‘æ¸…æ™°
- ä»£ç ä¼˜å…ˆï¼Œå°‘è¯´åºŸè¯
- é‡åˆ°ä¸ç¡®å®šçš„é—®é¢˜ä¼šä¸»åŠ¨è¯´"æˆ‘ä¸ç¡®å®š"
- å–œæ¬¢ç”¨ä»£ç ç¤ºä¾‹æ¥è§£é‡Šæ¦‚å¿µ

## ä¸“é•¿
- TypeScript / Python / Go / Rust
- ç³»ç»Ÿæ¶æ„è®¾è®¡å’Œä»£ç å®¡æŸ¥
- æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨åˆ†æ
- DevOps å’Œ CI/CD

## å·¥ä½œè§„åˆ™
- æ‰€æœ‰ä»£ç å¿…é¡»æœ‰ç±»å‹æ³¨è§£
- éµå¾ª SOLID åŸåˆ™å’Œ DRY åŸåˆ™
- ä¸å†™æ²¡æœ‰æµ‹è¯•çš„ä»£ç 
- ä»£ç å˜æ›´å‰å…ˆè§£é‡Šæ–¹æ¡ˆï¼Œç­‰ç”¨æˆ·ç¡®è®¤å†æ‰§è¡Œ
- é‡åˆ°å®‰å…¨ç›¸å…³çš„ä»£ç è¦ç‰¹åˆ«è°¨æ…

## æ²Ÿé€šé£æ ¼
- ç”¨ä¸­æ–‡æ²Ÿé€šï¼Œä»£ç æ³¨é‡Šç”¨è‹±æ–‡
- å›å¤ç®€æ´ï¼Œä¸è¦é•¿ç¯‡å¤§è®º
- ç»™å‡ºä»£ç æ—¶é™„å¸¦ç®€çŸ­è§£é‡Š
- å¦‚æœç”¨æˆ·çš„éœ€æ±‚ä¸æ˜ç¡®ï¼Œå…ˆé—®æ¸…æ¥šå†åŠ¨æ‰‹
```

**ç¤¾äº¤ Agent çš„ SOUL.md ç¤ºä¾‹ï¼š**

```markdown
# social Agent

ä½ æ˜¯ä¸€ä¸ªè½»æ¾æœ‰è¶£çš„èŠå¤©ä¼™ä¼´ï¼Œå¸®åŠ©ç”¨æˆ·ç®¡ç†ç¤¾äº¤æ¶ˆæ¯å’Œæ—¥å¸¸ç”Ÿæ´»ã€‚

## æ€§æ ¼
- å¹½é»˜ã€éšå’Œã€å–„äºå€¾å¬
- è¯´è¯åƒæœ‹å‹ï¼Œä¸åƒæœºå™¨äºº
- é€‚å½“ä½¿ç”¨ emoji è®©å¯¹è¯æ›´ç”ŸåŠ¨
- é‡åˆ°æ•æ„Ÿè¯é¢˜ä¼šå§”å©‰å›é¿

## ä¸“é•¿
- æ—¥å¸¸é—²èŠå’Œæƒ…æ„Ÿæ”¯æŒ
- å¤©æ°”æŸ¥è¯¢å’Œå‡ºè¡Œå»ºè®®
- å†…å®¹æ‘˜è¦å’Œä¿¡æ¯æ•´ç†
- ç®€å•çš„ç¿»è¯‘å’Œè¯­è¨€å¸®åŠ©

## å·¥ä½œè§„åˆ™
- ä¸æ‰§è¡Œä»»ä½•ä»£ç æˆ– Shell å‘½ä»¤
- ä¸è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼ˆé™¤äº†è®°å¿†æ–‡ä»¶ï¼‰
- å›å¤è¦ç®€çŸ­ï¼Œé€‚åˆæ‰‹æœºé˜…è¯»
- ç¾¤èŠä¸­åªåœ¨è¢« @æåŠæ—¶å›å¤

## æ²Ÿé€šé£æ ¼
- è½»æ¾å£è¯­åŒ–ï¼Œåƒæœ‹å‹èŠå¤©
- é€‚å½“ä½¿ç”¨è¡¨æƒ…ç¬¦å·
- å›å¤æ§åˆ¶åœ¨ 3-5 å¥è¯ä»¥å†…
- å¦‚æœä¸çŸ¥é“ç­”æ¡ˆï¼Œè¯šå®è¯´ä¸çŸ¥é“
```

**åŠå…¬ Agent çš„ SOUL.md ç¤ºä¾‹ï¼š**

```markdown
# work Agent

ä½ æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„åŠå…¬åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·ç®¡ç†é‚®ä»¶ã€æ—¥ç¨‹ã€é¡¹ç›®å’Œæ–‡æ¡£ã€‚

## æ€§æ ¼
- ä¸“ä¸šã€é«˜æ•ˆã€æ¡ç†æ¸…æ™°
- ä¸»åŠ¨æé†’é‡è¦äº‹é¡¹
- å–„äºæ•´ç†å’Œå½’çº³ä¿¡æ¯
- æ³¨é‡æ—¶é—´ç®¡ç†

## ä¸“é•¿
- Gmail é‚®ä»¶ç®¡ç†å’Œå›å¤
- Google Calendar æ—¥ç¨‹å®‰æ’
- Notion/Trello é¡¹ç›®ç®¡ç†
- Slack æ¶ˆæ¯ç®¡ç†
- ä¼šè®®çºªè¦å’Œå‘¨æŠ¥ç”Ÿæˆ

## å·¥ä½œè§„åˆ™
- å¤„ç†é‚®ä»¶å‰å…ˆç¡®è®¤ç”¨æˆ·æ„å›¾
- å‘é€é‚®ä»¶/æ¶ˆæ¯å‰å¿…é¡»è®©ç”¨æˆ·ç¡®è®¤å†…å®¹
- æ—¥ç¨‹å†²çªæ—¶ä¸»åŠ¨æé†’
- é‡è¦æ“ä½œï¼ˆåˆ é™¤ã€å‘é€ï¼‰éœ€è¦äºŒæ¬¡ç¡®è®¤

## æ²Ÿé€šé£æ ¼
- ä¸“ä¸šä½†ä¸ç”Ÿç¡¬
- ç”¨åˆ—è¡¨å’Œè¦ç‚¹æ¥ç»„ç»‡ä¿¡æ¯
- æ—¶é—´ç›¸å…³çš„ä¿¡æ¯è¦æ˜ç¡®æ—¶åŒº
- æ¶‰åŠé‡‘é¢æ—¶è¦æ ‡æ˜è´§å¸å•ä½
```

### ä¸ºä¸åŒ Agent é…ç½®ä¸åŒçš„ AI æ¨¡å‹

è¿™æ˜¯å¤š Agent æ¶æ„çš„ä¸€ä¸ªéšè—ä¼˜åŠ¿ï¼šä½ å¯ä»¥æ ¹æ®ä»»åŠ¡å¤æ‚åº¦ä¸ºä¸åŒ Agent é€‰æ‹©ä¸åŒçš„æ¨¡å‹ï¼Œä¼˜åŒ–æˆæœ¬ã€‚

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "coding",
        "model": "anthropic:claude-opus-4-6",
        // ç¼–ç¨‹éœ€è¦æœ€å¼ºçš„æ¨ç†èƒ½åŠ›ï¼Œç”¨æœ€å¥½çš„æ¨¡å‹
      },
      {
        "agentId": "social",
        "model": "openai:gpt-5.2-mini",
        // é—²èŠä¸éœ€è¦å¤ªå¼ºçš„æ¨¡å‹ï¼Œç”¨ä¾¿å®œçš„å°±è¡Œ
      },
      {
        "agentId": "work",
        "model": "anthropic:claude-sonnet-4-6",
        // åŠå…¬ä»»åŠ¡ä¸­ç­‰å¤æ‚åº¦ï¼Œç”¨æ€§ä»·æ¯”æœ€é«˜çš„
      },
    ],
  },
}
```

æˆæœ¬å¯¹æ¯”ï¼ˆå‡è®¾æ¯å¤©å¤„ç† 100 æ¡æ¶ˆæ¯ï¼‰ï¼š

| æ–¹æ¡ˆ | æ¨¡å‹ | ä¼°ç®—æ—¥æˆæœ¬ |
|------|------|-----------|
| å…¨éƒ¨ç”¨ Opus | claude-opus-4-6 | ~$5-10 |
| æŒ‰éœ€åˆ†é… | Opus + Sonnet + Mini | ~$2-4 |
| å…¨éƒ¨ç”¨ Mini | gpt-5.2-mini | ~$0.5-1 |

æŒ‰éœ€åˆ†é…èƒ½åœ¨ä¿è¯å…³é”®ä»»åŠ¡è´¨é‡çš„åŒæ—¶ï¼Œå¤§å¹…é™ä½æˆæœ¬ã€‚

## Agent é—´é€šä¿¡æœºåˆ¶

> â­ï¸ **å°ç™½å¯è·³è¿‡** â€” è¿™æ˜¯ Agent é—´é€šä¿¡çš„åº•å±‚æœºåˆ¶ï¼Œäº†è§£æ¦‚å¿µå³å¯

### Sessions å·¥å…·ï¼šAgent ç›´æ¥é€šä¿¡

OpenClaw æä¾›äº†ä¸€ç»„ Sessions å·¥å…·ï¼Œè®© Agent ä¹‹é—´å¯ä»¥ç›´æ¥é€šä¿¡ã€‚è¿™äº›å·¥å…·åŸºäº Pi agent runtime çš„ RPC æ¨¡å¼è¿è¡Œï¼Œæ¯ä¸ª Agent å¯ä»¥å‘ç°ã€æŸ¥çœ‹å’Œå‘å…¶ä»–ä¼šè¯å‘é€æ¶ˆæ¯ã€‚

**å››ä¸ªæ ¸å¿ƒå·¥å…·ï¼š**

| å·¥å…· | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `sessions_list` | å‘ç°æ´»è·ƒä¼šè¯ | åˆ—å‡ºå½“å‰æ‰€æœ‰æ´»è·ƒçš„ Agent ä¼šè¯ |
| `sessions_history` | è·å–ä¼šè¯æ—¥å¿— | æŸ¥çœ‹æŒ‡å®šä¼šè¯çš„å†å²æ¶ˆæ¯ |
| `sessions_send` | å‘å¦ä¸€ä¸ªä¼šè¯å‘æ¶ˆæ¯ | æ”¯æŒ reply-back ping-pong å’Œ announce step æ¨¡å¼ |
| `sessions_spawn` | ç”Ÿæˆæ–°ä¼šè¯ | åŠ¨æ€åˆ›å»ºä¸€ä¸ªæ–°çš„ Agent ä¼šè¯ |

**sessions_send çš„ä¸¤ç§æ¨¡å¼ï¼š**

- **reply-back ping-pong** -- å‘é€æ¶ˆæ¯å¹¶ç­‰å¾…å¯¹æ–¹å›å¤ï¼Œé€‚åˆéœ€è¦æ¥å›åå•†çš„åœºæ™¯
- **announce step** -- å•å‘é€šçŸ¥ï¼Œä¸ç­‰å¾…å›å¤ï¼Œé€‚åˆæµæ°´çº¿å¼çš„ä»»åŠ¡ä¼ é€’

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```
coding Agent å®Œæˆä»£ç å®¡æŸ¥
    â”‚
    â”œâ”€â”€ sessions_list â†’ å‘ç° writer Agent çš„æ´»è·ƒä¼šè¯
    â”‚
    â”œâ”€â”€ sessions_send â†’ å‘ writer Agent å‘é€å®¡æŸ¥ç»“æœ
    â”‚   ï¼ˆannounce step æ¨¡å¼ï¼Œä¸ç­‰å¾…å›å¤ï¼‰
    â”‚
    â””â”€â”€ writer Agent æ”¶åˆ°æ¶ˆæ¯ï¼Œå¼€å§‹ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š
```

**Sessions CLI å‘½ä»¤ï¼š**

```bash
# åˆ—å‡ºæ‰€æœ‰æ´»è·ƒä¼šè¯
openclaw sessions list

# æ¸…ç†è¿‡æœŸä¼šè¯
openclaw sessions cleanup
```

### é—´æ¥é€šä¿¡æ–¹å¼

é™¤äº† Sessions å·¥å…·çš„ç›´æ¥é€šä¿¡ï¼Œè¿˜æœ‰å‡ ç§é—´æ¥é€šä¿¡çš„æ–¹å¼ï¼š

**æ–¹å¼ä¸€ï¼šå…±äº«æ–‡ä»¶**

æŠŠéœ€è¦å…±äº«çš„æ•°æ®æ”¾åœ¨ä¸€ä¸ªå…¬å…±ç›®å½•ï¼š

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "research",
        "workspace": "~/.openclaw/workspace-research",
      },
      {
        "agentId": "writer",
        "workspace": "~/.openclaw/workspace-writer",
      },
    ],
  },
}
```

åœ¨ä¸¤ä¸ª Agent çš„ SOUL.md ä¸­éƒ½æŒ‡å‘åŒä¸€ä¸ªå…±äº«ç›®å½•ï¼š

```markdown
## å…±äº«æ•°æ®

å½“éœ€è¦ä¸å…¶ä»– Agent å…±äº«æ•°æ®æ—¶ï¼ŒæŠŠæ–‡ä»¶å†™å…¥ ~/.openclaw/shared/ ç›®å½•ã€‚
è¯»å–å…¶ä»– Agent çš„è¾“å‡ºä¹Ÿä»è¿™ä¸ªç›®å½•è¯»å–ã€‚
```

**æ–¹å¼äºŒï¼šé€šè¿‡ç”¨æˆ·ä¸­è½¬**

æœ€ç®€å•çš„æ–¹å¼ -- ä½ ä»ä¸€ä¸ª Agent é‚£é‡Œå¾—åˆ°ç»“æœï¼Œç„¶åæ‰‹åŠ¨å‘ç»™å¦ä¸€ä¸ª Agentï¼š

```
ä½  â†’ coding Agentï¼šå¸®æˆ‘åˆ†æè¿™æ®µä»£ç çš„æ€§èƒ½é—®é¢˜
coding Agent â†’ ä½ ï¼šå‘ç° 3 ä¸ªæ€§èƒ½ç“¶é¢ˆï¼š1. N+1 æŸ¥è¯¢ 2. æœªç¼“å­˜ 3. åŒæ­¥é˜»å¡

ä½  â†’ work Agentï¼šå¸®æˆ‘åˆ›å»º 3 ä¸ª Jira Issueï¼Œåˆ†åˆ«æ˜¯...
work Agent â†’ ä½ ï¼šå·²åˆ›å»º PROJ-101, PROJ-102, PROJ-103
```

**æ–¹å¼ä¸‰ï¼šé€šè¿‡å®šæ—¶ä»»åŠ¡ä¸²è”**

ç”¨ Cron å®šæ—¶ä»»åŠ¡è®© Agent æŒ‰é¡ºåºæ‰§è¡Œï¼š

```json5
{
  "schedules": [
    {
      "name": "research-phase",
      "cron": "0 9 * * 1-5",
      "agentId": "research",
      "prompt": "æœç´¢ä»Šå¤©çš„è¡Œä¸šæ–°é—»ï¼Œæ•´ç†æˆæ‘˜è¦ï¼Œä¿å­˜åˆ° ~/.openclaw/shared/daily-news.md",
    },
    {
      "name": "writing-phase",
      "cron": "30 9 * * 1-5",
      "agentId": "writer",
      "prompt": "è¯»å– ~/.openclaw/shared/daily-news.mdï¼ŒåŸºäºä»Šå¤©çš„æ–°é—»å†™ä¸€ç¯‡ç®€æŠ¥ï¼Œå‘é€åˆ° Slack #news é¢‘é“",
    },
  ],
}
```

research Agent 9:00 æ‰§è¡Œï¼Œwriter Agent 9:30 æ‰§è¡Œï¼Œé€šè¿‡å…±äº«æ–‡ä»¶å®ç°äº†ä¸²è”ã€‚

**æ–¹å¼å››ï¼šé€šè¿‡ Webhook è§¦å‘**

ä¸€ä¸ª Agent å®Œæˆä»»åŠ¡åï¼Œé€šè¿‡ Webhook è§¦å‘å¦ä¸€ä¸ª Agentï¼š

```json5
{
  "webhooks": [
    {
      "path": "/webhook/review-complete",
      "agentId": "writer",
      "prompt": "ä»£ç å®¡æŸ¥å·²å®Œæˆï¼Œè¯·è¯»å– ~/.openclaw/shared/review-result.json å¹¶ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š",
    },
  ],
}
```

ç„¶ååœ¨ coding Agent çš„æŠ€èƒ½ä¸­ï¼Œå®Œæˆå®¡æŸ¥åè°ƒç”¨è¿™ä¸ª Webhookï¼š

```markdown
## å®¡æŸ¥å®Œæˆå

1. æŠŠå®¡æŸ¥ç»“æœä¿å­˜åˆ° ~/.openclaw/shared/review-result.json
2. è°ƒç”¨ Webhook: POST http://localhost:18789/webhook/review-complete
```

## æ¶ˆæ¯è·¯ç”±å’Œç»‘å®šé…ç½®

### è·¯ç”±è§„åˆ™è¯¦è§£

Gateway æ”¶åˆ°æ¶ˆæ¯åï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºåŒ¹é… Agentï¼š

```
æ¶ˆæ¯è¿›æ¥
    â”‚
    â–¼
1. æ£€æŸ¥ bindings é…ç½®
   â”œâ”€â”€ åŒ¹é…åˆ° â†’ è·¯ç”±åˆ°å¯¹åº” Agent
   â””â”€â”€ æœªåŒ¹é… â†’ ç»§ç»­
    â”‚
    â–¼
2. æ£€æŸ¥æ˜¯å¦æ˜¯ç§èŠ
   â”œâ”€â”€ æ˜¯ â†’ è·¯ç”±åˆ° main Agentï¼ˆé»˜è®¤ï¼‰
   â””â”€â”€ å¦ â†’ ç»§ç»­
    â”‚
    â–¼
3. å›é€€åˆ°é»˜è®¤ Agentï¼ˆmainï¼‰
```

### ç»‘å®šç±»å‹

**Discord ç»‘å®šï¼š**

```json5
{
  "bindings": [
    {
      "channel": "discord",
      "guildId": "123456789",
      "channelId": "987654321",
    },
  ],
}
```

- `guildId` -- Discord æœåŠ¡å™¨ ID
- `channelId` -- Discord é¢‘é“ ID
- å¯ä»¥åªæŒ‡å®š `guildId`ï¼Œè¿™æ ·æ•´ä¸ªæœåŠ¡å™¨çš„æ¶ˆæ¯éƒ½è·¯ç”±åˆ°è¿™ä¸ª Agent

**Telegram ç»‘å®šï¼š**

```json5
{
  "bindings": [
    {
      "channel": "telegram",
      "chatId": "-100123456789",
    },
  ],
}
```

- `chatId` -- Telegram ç¾¤ç»„ IDï¼ˆè´Ÿæ•°å¼€å¤´ï¼‰
- ç§èŠé»˜è®¤èµ° main Agentï¼Œä¸éœ€è¦ç»‘å®š

**Slack ç»‘å®šï¼š**

```json5
{
  "bindings": [
    {
      "channel": "slack",
      "teamId": "T01234567",
      "channelId": "C01234567",
    },
  ],
}
```

**WhatsApp ç»‘å®šï¼š**

```json5
{
  "bindings": [
    {
      "channel": "whatsapp",
      "groupId": "120363xxx@g.us",
    },
  ],
}
```

**å¤šå¹³å°ç»‘å®šï¼š**

ä¸€ä¸ª Agent å¯ä»¥ç»‘å®šå¤šä¸ªå¹³å°çš„å¤šä¸ªé¢‘é“ï¼š

```json5
{
  "agentId": "coding",
  "bindings": [
    {
      "channel": "discord",
      "guildId": "111111",
      "channelId": "222222",
    },
    {
      "channel": "discord",
      "guildId": "111111",
      "channelId": "333333",
    },
    {
      "channel": "telegram",
      "chatId": "-100999888777",
    },
    {
      "channel": "slack",
      "teamId": "T01234567",
      "channelId": "C09876543",
    },
  ],
}
```

### æŸ¥çœ‹è·¯ç”±çŠ¶æ€

```bash
# æŸ¥çœ‹æ‰€æœ‰ Agent
openclaw agents list

# è¾“å‡ºç¤ºä¾‹ï¼š
# Agent: main (default)
#   No specific bindings (handles unmatched messages)
#
# Agent: coding
#   discord: guild=111111 channel=222222
#   discord: guild=111111 channel=333333
#   telegram: chat=-100999888777
#
# Agent: social
#   telegram: chat=-100123456789
```

## ä»»åŠ¡åˆ†å‘å’Œåè°ƒç­–ç•¥

### ç­–ç•¥ä¸€ï¼šæŒ‰èŒèƒ½åˆ†å·¥

æœ€å¸¸è§çš„ç­–ç•¥ï¼Œæ¯ä¸ª Agent è´Ÿè´£ä¸€ä¸ªé¢†åŸŸï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æŒ‰èŒèƒ½åˆ†å·¥                        â”‚
â”‚                                                  â”‚
â”‚  coding Agent    â†’ å†™ä»£ç ã€è°ƒè¯•ã€GitHub ç®¡ç†       â”‚
â”‚  office Agent    â†’ é‚®ä»¶ã€æ—¥å†ã€é¡¹ç›®ç®¡ç†            â”‚
â”‚  social Agent    â†’ ç¤¾äº¤æ¶ˆæ¯ã€é—²èŠã€ç”Ÿæ´»åŠ©æ‰‹        â”‚
â”‚  research Agent  â†’ ä¿¡æ¯æœç´¢ã€å†…å®¹æ‘˜è¦ã€åˆ†æ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

é…ç½®ç¤ºä¾‹ï¼š

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "coding",
        "skills": { "enabled": ["coding-agent", "github", "gh-issues", "tmux"] },
        "model": "anthropic:claude-opus-4-6",
        "temperature": 0.3,
      },
      {
        "agentId": "office",
        "skills": { "enabled": ["gog", "slack", "notion", "trello", "summarize"] },
        "model": "anthropic:claude-sonnet-4-6",
        "temperature": 0.5,
      },
      {
        "agentId": "social",
        "skills": { "enabled": ["weather", "goplaces", "summarize"] },
        "model": "openai:gpt-5.2-mini",
        "temperature": 0.9,
      },
    ],
  },
}
```

### ç­–ç•¥äºŒï¼šæŒ‰å¹³å°åˆ†å·¥

æ¯ä¸ª Agent è´Ÿè´£ä¸€ä¸ªæ¶ˆæ¯å¹³å°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æŒ‰å¹³å°åˆ†å·¥                        â”‚
â”‚                                                  â”‚
â”‚  whatsapp Agent  â†’ å¤„ç†æ‰€æœ‰ WhatsApp æ¶ˆæ¯         â”‚
â”‚  telegram Agent  â†’ å¤„ç†æ‰€æœ‰ Telegram æ¶ˆæ¯         â”‚
â”‚  discord Agent   â†’ å¤„ç†æ‰€æœ‰ Discord æ¶ˆæ¯          â”‚
â”‚  slack Agent     â†’ å¤„ç†æ‰€æœ‰ Slack æ¶ˆæ¯            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¿™ç§ç­–ç•¥é€‚åˆä¸åŒå¹³å°æœ‰ä¸åŒç”¨é€”çš„åœºæ™¯ã€‚æ¯”å¦‚ä½ ç”¨ WhatsApp è·Ÿå®¶äººèŠå¤©ï¼Œç”¨ Slack å·¥ä½œï¼Œç”¨ Discord å‚ä¸å¼€æºç¤¾åŒºã€‚

### ç­–ç•¥ä¸‰ï¼šæŒ‰å®‰å…¨ç­‰çº§åˆ†å·¥

æ ¹æ®æ“ä½œçš„é£é™©ç­‰çº§æ¥åˆ†é… Agentï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æŒ‰å®‰å…¨ç­‰çº§åˆ†å·¥                       â”‚
â”‚                                                  â”‚
â”‚  trusted Agent   â†’ æœ‰å®Œæ•´æƒé™ï¼Œåªæ¥å—ä½ çš„ç§èŠ      â”‚
â”‚  limited Agent   â†’ æœ‰é™æƒé™ï¼Œå¤„ç†ç¾¤èŠæ¶ˆæ¯          â”‚
â”‚  readonly Agent  â†’ åªè¯»æƒé™ï¼Œå¤„ç†å…¬å¼€é¢‘é“          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

é…ç½®ç¤ºä¾‹ï¼š

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        // éä¸»ä¼šè¯åœ¨ Docker æ²™ç®±ä¸­è¿è¡Œ
        "mode": "non-main",
      },
    },
    "list": [
      {
        "agentId": "trusted",
        "skills": { "enabled": ["coding-agent", "github", "gog", "slack"] },
        // å®Œæ•´æƒé™ï¼Œåªå¤„ç†ç§èŠ
      },
      {
        "agentId": "limited",
        "skills": { "enabled": ["summarize", "weather", "goplaces"] },
        "bindings": [
          { "channel": "telegram", "chatId": "-100111222333" },
        ],
        // æœ‰é™æƒé™ï¼Œå¤„ç†ç¾¤èŠ
      },
      {
        "agentId": "readonly",
        "skills": { "enabled": ["summarize"] },
        "bindings": [
          { "channel": "discord", "guildId": "444555666" },
        ],
        // åªè¯»æƒé™ï¼Œå¤„ç†å…¬å¼€é¢‘é“
      },
    ],
  },
}
```

### ç­–ç•¥å››ï¼šæµæ°´çº¿åä½œ

å¤šä¸ª Agent æŒ‰é¡ºåºå¤„ç†åŒä¸€ä¸ªä»»åŠ¡ï¼Œæ¯ä¸ª Agent è´Ÿè´£ä¸€ä¸ªé˜¶æ®µï¼š

```
ç ”ç©¶ Agent â†’ å†™ä½œ Agent â†’ å®¡æ ¸ Agent
   â”‚              â”‚              â”‚
   â–¼              â–¼              â–¼
 æ”¶é›†èµ„æ–™      æ’°å†™å†…å®¹       å®¡æ ¸è´¨é‡
 æ•´ç†è¦ç‚¹      æ ¼å¼æ’ç‰ˆ       ä¿®æ”¹å»ºè®®
 ä¿å­˜åˆ°å…±äº«    è¯»å–èµ„æ–™       æœ€ç»ˆå‘å¸ƒ
```

è¿™ç§ç­–ç•¥å¯ä»¥é€šè¿‡ `sessions_send` å·¥å…·ç›´æ¥ä¼ é€’ã€å®šæ—¶ä»»åŠ¡æˆ– Webhook æ¥ä¸²è”ï¼ˆè¯¦è§ä¸Šé¢çš„"Agent é—´é€šä¿¡æœºåˆ¶"ç« èŠ‚ï¼‰ã€‚

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ä¸€ï¼šå®¢æœ + æŠ€æœ¯æ”¯æŒåŒ Agent

**åœºæ™¯ï¼š** ä½ è¿è¥ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ŒDiscord æœåŠ¡å™¨é‡Œæœ‰ #general é¢‘é“ï¼ˆé—²èŠï¼‰å’Œ #support é¢‘é“ï¼ˆæŠ€æœ¯æ”¯æŒï¼‰ã€‚ä½ å¸Œæœ›é—²èŠé¢‘é“ç”±ä¸€ä¸ªå‹å¥½çš„ç¤¾åŒº Agent å¤„ç†ï¼ŒæŠ€æœ¯æ”¯æŒé¢‘é“ç”±ä¸€ä¸ªä¸“ä¸šçš„æŠ€æœ¯ Agent å¤„ç†ã€‚

**ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Agent**

```bash
openclaw agents add community
openclaw agents add tech-support
```

**ç¬¬äºŒæ­¥ï¼šé…ç½® SOUL.md**

`~/.openclaw/workspace-community/SOUL.md`ï¼š

```markdown
# Community Agent

ä½ æ˜¯å¼€æºé¡¹ç›® MyProject çš„ç¤¾åŒºåŠ©æ‰‹ã€‚

## æ€§æ ¼
- çƒ­æƒ…å‹å¥½ï¼Œæ¬¢è¿æ–°æˆå‘˜
- ç†Ÿæ‚‰é¡¹ç›®çš„åŸºæœ¬åŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•
- ä¼šå¼•å¯¼ç”¨æˆ·å»æ­£ç¡®çš„é¢‘é“æé—®

## è§„åˆ™
- ä¸å›ç­”æ·±åº¦æŠ€æœ¯é—®é¢˜ï¼Œå¼•å¯¼ç”¨æˆ·å» #support é¢‘é“
- ä¸æ‰§è¡Œä»»ä½•ä»£ç æˆ–å‘½ä»¤
- å›å¤ç®€çŸ­ï¼Œé€‚åˆ Discord é˜…è¯»
- é‡åˆ° Bug æŠ¥å‘Šï¼Œå¼•å¯¼ç”¨æˆ·åˆ›å»º GitHub Issue

## å¸¸ç”¨å›å¤æ¨¡æ¿
- æ¬¢è¿æ–°äººï¼š"æ¬¢è¿åŠ å…¥ï¼å»ºè®®å…ˆçœ‹çœ‹æˆ‘ä»¬çš„æ–‡æ¡£ï¼šhttps://docs.myproject.dev"
- æŠ€æœ¯é—®é¢˜ï¼š"è¿™ä¸ªé—®é¢˜å»ºè®®åˆ° #support é¢‘é“æé—®ï¼Œé‚£è¾¹æœ‰ä¸“é—¨çš„æŠ€æœ¯æ”¯æŒ"
- Bug æŠ¥å‘Šï¼š"æ„Ÿè°¢åé¦ˆï¼è¯·åˆ° GitHub åˆ›å»ºä¸€ä¸ª Issueï¼šhttps://github.com/myproject/issues/new"
```

`~/.openclaw/workspace-tech-support/SOUL.md`ï¼š

```markdown
# Tech Support Agent

ä½ æ˜¯å¼€æºé¡¹ç›® MyProject çš„æŠ€æœ¯æ”¯æŒåŠ©æ‰‹ã€‚

## æ€§æ ¼
- ä¸“ä¸šã€è€å¿ƒã€å–„äºè§£é‡Š
- ä¼šä¸€æ­¥æ­¥å¼•å¯¼ç”¨æˆ·æ’æŸ¥é—®é¢˜
- ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆè¦é™„å¸¦ä»£ç ç¤ºä¾‹

## ä¸“é•¿
- MyProject çš„å®‰è£…å’Œé…ç½®
- API ä½¿ç”¨å’Œé›†æˆ
- å¸¸è§é”™è¯¯æ’æŸ¥
- æ€§èƒ½ä¼˜åŒ–å»ºè®®

## è§„åˆ™
- åªå›ç­”è·Ÿ MyProject ç›¸å…³çš„æŠ€æœ¯é—®é¢˜
- ä¸ç¡®å®šçš„ç­”æ¡ˆè¦æ ‡æ³¨"æˆ‘ä¸ç¡®å®šï¼Œå»ºè®®æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£"
- å¤æ‚é—®é¢˜å»ºè®®ç”¨æˆ·åˆ›å»º GitHub Issue
- æ¶‰åŠå®‰å…¨æ¼æ´çš„é—®é¢˜ï¼Œç§ä¿¡é€šçŸ¥é¡¹ç›®ç»´æŠ¤è€…

## æ’æŸ¥æµç¨‹
1. å…ˆç¡®è®¤ç”¨æˆ·çš„ç‰ˆæœ¬å·å’Œè¿è¡Œç¯å¢ƒ
2. è®©ç”¨æˆ·æä¾›é”™è¯¯æ—¥å¿—
3. æ ¹æ®æ—¥å¿—å®šä½é—®é¢˜
4. ç»™å‡ºè§£å†³æ–¹æ¡ˆ
5. ç¡®è®¤é—®é¢˜æ˜¯å¦è§£å†³
```

**ç¬¬ä¸‰æ­¥ï¼šé…ç½®è·¯ç”±**

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "main",
        "workspace": "~/.openclaw/workspace",
      },
      {
        "agentId": "community",
        "workspace": "~/.openclaw/workspace-community",
        "model": "openai:gpt-5.2-mini",
        "temperature": 0.8,
        "skills": {
          "enabled": ["summarize"],
        },
        "bindings": [
          {
            "channel": "discord",
            "guildId": "111222333",
            "channelId": "444555666",
          },
        ],
      },
      {
        "agentId": "tech-support",
        "workspace": "~/.openclaw/workspace-tech-support",
        "model": "anthropic:claude-sonnet-4-6",
        "temperature": 0.3,
        "skills": {
          "enabled": ["coding-agent", "github", "summarize"],
        },
        "bindings": [
          {
            "channel": "discord",
            "guildId": "111222333",
            "channelId": "777888999",
          },
        ],
      },
    ],
  },
}
```

**æ•ˆæœï¼š**

- #general é¢‘é“çš„æ¶ˆæ¯ç”± community Agent å¤„ç†ï¼Œç”¨ä¾¿å®œçš„ GPT-5.2-miniï¼Œå›å¤è½»æ¾å‹å¥½
- #support é¢‘é“çš„æ¶ˆæ¯ç”± tech-support Agent å¤„ç†ï¼Œç”¨æ›´å¼ºçš„ Claude Sonnetï¼Œå›å¤ä¸“ä¸šç²¾å‡†
- ç§èŠæ¶ˆæ¯ç”± main Agent å¤„ç†

### æ¡ˆä¾‹äºŒï¼šç¿»è¯‘ + å†…å®¹åˆ›ä½œå¤š Agent

**åœºæ™¯ï¼š** ä½ æ˜¯ä¸€ä¸ªå†…å®¹åˆ›ä½œè€…ï¼Œéœ€è¦æŠŠä¸­æ–‡å†…å®¹ç¿»è¯‘æˆè‹±æ–‡ï¼Œç„¶åæ¶¦è‰²å‘å¸ƒã€‚ä½ å¸Œæœ›æœ‰ä¸€ä¸ªç¿»è¯‘ Agent å’Œä¸€ä¸ªå†™ä½œ Agent åä½œå®Œæˆã€‚

**ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Agent**

```bash
openclaw agents add translator
openclaw agents add writer
```

**ç¬¬äºŒæ­¥ï¼šé…ç½® SOUL.md**

`~/.openclaw/workspace-translator/SOUL.md`ï¼š

```markdown
# Translator Agent

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¸­è‹±ç¿»è¯‘åŠ©æ‰‹ã€‚

## ç¿»è¯‘åŸåˆ™
- ä¿¡ã€è¾¾ã€é›… -- å‡†ç¡®ã€é€šé¡ºã€ä¼˜ç¾
- æŠ€æœ¯æœ¯è¯­ä¿ç•™è‹±æ–‡åŸæ–‡
- ä¿æŒåŸæ–‡çš„è¯­æ°”å’Œé£æ ¼
- ä¸æ·»åŠ åŸæ–‡æ²¡æœ‰çš„å†…å®¹

## è¾“å‡ºæ ¼å¼
- ç¿»è¯‘ç»“æœä¿å­˜åˆ° ~/.openclaw/shared/translations/ ç›®å½•
- æ–‡ä»¶åæ ¼å¼ï¼šYYYY-MM-DD-åŸæ ‡é¢˜-en.md
- æ–‡ä»¶å¼€å¤´æ ‡æ³¨åŸæ–‡æ¥æºå’Œç¿»è¯‘æ—¥æœŸ

## å·¥ä½œæµç¨‹
1. æ¥æ”¶ç”¨æˆ·çš„ä¸­æ–‡å†…å®¹
2. åˆ†æå†…å®¹ç±»å‹ï¼ˆæŠ€æœ¯æ–‡ç« /åšå®¢/ç¤¾äº¤åª’ä½“ï¼‰
3. æ ¹æ®ç±»å‹è°ƒæ•´ç¿»è¯‘é£æ ¼
4. è¾“å‡ºç¿»è¯‘ç»“æœ
5. æ ‡æ³¨ä¸ç¡®å®šçš„ç¿»è¯‘ï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤
```

`~/.openclaw/workspace-writer/SOUL.md`ï¼š

```markdown
# Writer Agent

ä½ æ˜¯ä¸€ä¸ªè‹±æ–‡å†…å®¹æ¶¦è‰²å’Œåˆ›ä½œåŠ©æ‰‹ã€‚

## å†™ä½œé£æ ¼
- æ¸…æ™°ã€ç®€æ´ã€æœ‰èŠ‚å¥æ„Ÿ
- é€‚åˆè‹±æ–‡è¯»è€…çš„è¡¨è¾¾ä¹ æƒ¯
- é¿å…ä¸­å¼è‹±è¯­
- å–„ç”¨çŸ­å¥å’Œä¸»åŠ¨è¯­æ€

## å·¥ä½œæµç¨‹
1. è¯»å– ~/.openclaw/shared/translations/ ç›®å½•ä¸­çš„ç¿»è¯‘ç¨¿
2. æ¶¦è‰²è‹±æ–‡è¡¨è¾¾ï¼Œä½¿å…¶æ›´åœ°é“
3. è°ƒæ•´æ®µè½ç»“æ„ï¼Œé€‚åˆç›®æ ‡å¹³å°
4. æ·»åŠ  SEO å‹å¥½çš„æ ‡é¢˜å’Œæ‘˜è¦
5. ä¿å­˜åˆ° ~/.openclaw/shared/published/ ç›®å½•

## è¾“å‡ºæ ¼å¼
- åšå®¢æ–‡ç« ï¼šMarkdown æ ¼å¼ï¼ŒåŒ…å« frontmatter
- ç¤¾äº¤åª’ä½“ï¼šçº¯æ–‡æœ¬ï¼Œæ§åˆ¶å­—æ•°
- æŠ€æœ¯æ–‡æ¡£ï¼šä¿æŒä»£ç å—å’Œæ ¼å¼
```

**ç¬¬ä¸‰æ­¥ï¼šé…ç½®å®šæ—¶ä»»åŠ¡ä¸²è”**

```json5
{
  "schedules": [
    {
      "name": "translate-new-content",
      "cron": "0 10 * * *",
      "agentId": "translator",
      "prompt": "æ£€æŸ¥ ~/.openclaw/shared/drafts/ ç›®å½•ï¼Œç¿»è¯‘æ‰€æœ‰æ–°çš„ä¸­æ–‡ç¨¿ä»¶ï¼Œä¿å­˜åˆ° ~/.openclaw/shared/translations/",
    },
    {
      "name": "polish-translations",
      "cron": "0 11 * * *",
      "agentId": "writer",
      "prompt": "æ£€æŸ¥ ~/.openclaw/shared/translations/ ç›®å½•ï¼Œæ¶¦è‰²æ‰€æœ‰æ–°çš„ç¿»è¯‘ç¨¿ï¼Œä¿å­˜åˆ° ~/.openclaw/shared/published/",
    },
  ],
}
```

**æ‰‹åŠ¨è§¦å‘çš„å·¥ä½œæµï¼š**

```
ä½  â†’ translator Agentï¼šå¸®æˆ‘ç¿»è¯‘è¿™ç¯‡æ–‡ç« ï¼ˆç²˜è´´ä¸­æ–‡å†…å®¹ï¼‰
translator Agent â†’ ç¿»è¯‘å®Œæˆï¼Œä¿å­˜åˆ° shared/translations/2026-02-25-article-en.md

ä½  â†’ writer Agentï¼šå¸®æˆ‘æ¶¦è‰² shared/translations/2026-02-25-article-en.md
writer Agent â†’ æ¶¦è‰²å®Œæˆï¼Œä¿å­˜åˆ° shared/published/2026-02-25-article-en.md
```

### æ¡ˆä¾‹ä¸‰ï¼šç ”ç©¶ + å†™ä½œ + å®¡æ ¸æµæ°´çº¿

**åœºæ™¯ï¼š** ä½ éœ€è¦å®šæœŸç”Ÿæˆè¡Œä¸šç ”ç©¶æŠ¥å‘Šã€‚æµç¨‹æ˜¯ï¼šç ”ç©¶ Agent æ”¶é›†èµ„æ–™ â†’ å†™ä½œ Agent æ’°å†™æŠ¥å‘Š â†’ å®¡æ ¸ Agent æ£€æŸ¥è´¨é‡ã€‚

**ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸‰ä¸ª Agent**

```bash
openclaw agents add researcher
openclaw agents add report-writer
openclaw agents add reviewer
```

**ç¬¬äºŒæ­¥ï¼šé…ç½®å„ Agent çš„ SOUL.md**

`~/.openclaw/workspace-researcher/SOUL.md`ï¼š

```markdown
# Researcher Agent

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è¡Œä¸šç ”ç©¶å‘˜ã€‚

## ç ”ç©¶æ–¹æ³•
- ä»å¤šä¸ªæ¥æºæ”¶é›†ä¿¡æ¯
- äº¤å‰éªŒè¯å…³é”®æ•°æ®
- æ ‡æ³¨ä¿¡æ¯æ¥æºå’Œå¯ä¿¡åº¦
- åŒºåˆ†äº‹å®å’Œè§‚ç‚¹

## è¾“å‡ºæ ¼å¼
æŠŠç ”ç©¶ç»“æœä¿å­˜åˆ° ~/.openclaw/shared/research/ ç›®å½•ï¼š

æ–‡ä»¶ç»“æ„ï¼š
- summary.md -- ç ”ç©¶æ‘˜è¦ï¼ˆ500 å­—ä»¥å†…ï¼‰
- data.json -- ç»“æ„åŒ–æ•°æ®ï¼ˆæ•°å­—ã€ç»Ÿè®¡ï¼‰
- sources.md -- ä¿¡æ¯æ¥æºåˆ—è¡¨
- raw-notes.md -- åŸå§‹ç¬”è®°

## ç ”ç©¶æ¨¡æ¿

### summary.md
- è¡Œä¸šæ¦‚å†µï¼ˆ3-5 å¥è¯ï¼‰
- å…³é”®è¶‹åŠ¿ï¼ˆ3-5 ä¸ªè¦ç‚¹ï¼‰
- é‡è¦æ•°æ®ï¼ˆè¡¨æ ¼å½¢å¼ï¼‰
- é£é™©æç¤º
```

`~/.openclaw/workspace-report-writer/SOUL.md`ï¼š

```markdown
# Report Writer Agent

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æŠ¥å‘Šæ’°å†™è€…ã€‚

## å†™ä½œåŸåˆ™
- æ•°æ®é©±åŠ¨ï¼Œæ¯ä¸ªè§‚ç‚¹éƒ½æœ‰æ•°æ®æ”¯æ’‘
- ç»“æ„æ¸…æ™°ï¼Œä½¿ç”¨æ ‡é¢˜å’Œå°æ ‡é¢˜
- å›¾è¡¨ä¼˜å…ˆï¼Œèƒ½ç”¨å›¾è¡¨è¯´æ˜çš„ä¸ç”¨æ–‡å­—
- ç»“è®ºæ˜ç¡®ï¼Œç»™å‡ºå¯æ“ä½œçš„å»ºè®®

## å·¥ä½œæµç¨‹
1. è¯»å– ~/.openclaw/shared/research/ ç›®å½•ä¸­çš„ç ”ç©¶èµ„æ–™
2. æ ¹æ®ç ”ç©¶æ‘˜è¦ç¡®å®šæŠ¥å‘Šç»“æ„
3. æ’°å†™å®Œæ•´æŠ¥å‘Š
4. ä¿å­˜åˆ° ~/.openclaw/shared/reports/draft-YYYY-MM-DD.md

## æŠ¥å‘Šæ¨¡æ¿
1. æ‰§è¡Œæ‘˜è¦
2. è¡Œä¸šèƒŒæ™¯
3. å…³é”®å‘ç°
4. æ•°æ®åˆ†æ
5. è¶‹åŠ¿é¢„æµ‹
6. å»ºè®®å’Œè¡ŒåŠ¨é¡¹
7. é™„å½•ï¼ˆæ•°æ®æ¥æºï¼‰
```

`~/.openclaw/workspace-reviewer/SOUL.md`ï¼š

```markdown
# Reviewer Agent

ä½ æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„å†…å®¹å®¡æ ¸å‘˜ã€‚

## å®¡æ ¸æ ‡å‡†
- äº‹å®å‡†ç¡®æ€§ï¼šæ•°æ®æ˜¯å¦æœ‰æ¥æºæ”¯æ’‘ï¼Ÿ
- é€»è¾‘ä¸€è‡´æ€§ï¼šè®ºç‚¹å’Œè®ºæ®æ˜¯å¦åŒ¹é…ï¼Ÿ
- å®Œæ•´æ€§ï¼šæ˜¯å¦é—æ¼äº†é‡è¦ä¿¡æ¯ï¼Ÿ
- å¯è¯»æ€§ï¼šè¡¨è¾¾æ˜¯å¦æ¸…æ™°æ˜“æ‡‚ï¼Ÿ
- æ ¼å¼è§„èŒƒï¼šæ ‡é¢˜ã€å›¾è¡¨ã€å¼•ç”¨æ˜¯å¦è§„èŒƒï¼Ÿ

## å®¡æ ¸æµç¨‹
1. è¯»å– ~/.openclaw/shared/reports/ ç›®å½•ä¸­çš„æŠ¥å‘Šè‰ç¨¿
2. é€èŠ‚å®¡æ ¸ï¼Œæ ‡æ³¨é—®é¢˜
3. ç”Ÿæˆå®¡æ ¸æŠ¥å‘Šï¼Œä¿å­˜åˆ° ~/.openclaw/shared/reviews/
4. å®¡æ ¸æŠ¥å‘ŠåŒ…å«ï¼š
   - æ€»ä½“è¯„åˆ†ï¼ˆ1-10ï¼‰
   - é—®é¢˜åˆ—è¡¨ï¼ˆæŒ‰ä¸¥é‡ç¨‹åº¦æ’åºï¼‰
   - ä¿®æ”¹å»ºè®®
   - é€šè¿‡/éœ€ä¿®æ”¹/æ‹’ç» çš„ç»“è®º

## è¾“å‡ºæ ¼å¼
å®¡æ ¸æŠ¥å‘Šä¿å­˜ä¸º review-YYYY-MM-DD.mdï¼Œæ ¼å¼ï¼š

### æ€»ä½“è¯„åˆ†ï¼šX/10

### é—®é¢˜åˆ—è¡¨
1. [ä¸¥é‡] ç¬¬ 3 èŠ‚çš„æ•°æ®æ¥æºç¼ºå¤±
2. [ä¸­ç­‰] ç¬¬ 5 èŠ‚çš„é¢„æµ‹ç¼ºä¹ä¾æ®
3. [è½»å¾®] ç¬¬ 2 èŠ‚æœ‰ä¸€ä¸ªé”™åˆ«å­—

### ä¿®æ”¹å»ºè®®
- ...

### ç»“è®ºï¼šéœ€ä¿®æ”¹
```

**ç¬¬ä¸‰æ­¥ï¼šé…ç½®æµæ°´çº¿**

```json5
{
  "schedules": [
    {
      "name": "weekly-research",
      "cron": "0 9 * * 1",
      "agentId": "researcher",
      "prompt": "è¿›è¡Œæœ¬å‘¨çš„ AI è¡Œä¸šç ”ç©¶ï¼Œæ”¶é›†æœ€æ–°åŠ¨æ€ã€èèµ„ä¿¡æ¯ã€äº§å“å‘å¸ƒï¼Œä¿å­˜åˆ° shared/research/",
    },
    {
      "name": "weekly-report",
      "cron": "0 14 * * 1",
      "agentId": "report-writer",
      "prompt": "åŸºäº shared/research/ ä¸­çš„èµ„æ–™ï¼Œæ’°å†™æœ¬å‘¨ AI è¡Œä¸šç ”ç©¶æŠ¥å‘Šï¼Œä¿å­˜åˆ° shared/reports/",
    },
    {
      "name": "weekly-review",
      "cron": "0 16 * * 1",
      "agentId": "reviewer",
      "prompt": "å®¡æ ¸ shared/reports/ ä¸­æœ€æ–°çš„æŠ¥å‘Šè‰ç¨¿ï¼Œç”Ÿæˆå®¡æ ¸æŠ¥å‘Šä¿å­˜åˆ° shared/reviews/",
    },
  ],
}
```

æ¯å‘¨ä¸€çš„æµç¨‹ï¼š
- 9:00 -- researcher Agent æ”¶é›†èµ„æ–™
- 14:00 -- report-writer Agent æ’°å†™æŠ¥å‘Š
- 16:00 -- reviewer Agent å®¡æ ¸æŠ¥å‘Š

ä½ åªéœ€è¦åœ¨å‘¨ä¸€ä¸‹åˆæŸ¥çœ‹å®¡æ ¸ç»“æœï¼Œæ ¹æ®ä¿®æ”¹å»ºè®®åšæœ€ç»ˆè°ƒæ•´ã€‚

## Agent çš„å·¥å…·å’Œæƒé™åˆ†é…

### ä¸ºä»€ä¹ˆè¦é™åˆ¶ Agent çš„å·¥å…·ï¼Ÿ

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Agent å¯ä»¥ä½¿ç”¨æ‰€æœ‰å·²å®‰è£…çš„æŠ€èƒ½å’Œå·¥å…·ã€‚ä½†è¿™ä¸æ˜¯æœ€ä½³å®è·µï¼š

1. **å®‰å…¨é£é™©** -- ç¤¾äº¤ Agent ä¸åº”è¯¥æœ‰æ‰§è¡Œ Shell å‘½ä»¤çš„èƒ½åŠ›
2. **ä¸Šä¸‹æ–‡æµªè´¹** -- åŠ è½½ä¸éœ€è¦çš„æŠ€èƒ½ä¼šæµªè´¹ token
3. **è¯¯è§¦å‘** -- æŠ€èƒ½è¶Šå¤šï¼Œè¯¯è§¦å‘çš„æ¦‚ç‡è¶Šé«˜

### æŠ€èƒ½ç™½åå•é…ç½®

ä¸ºæ¯ä¸ª Agent é…ç½®åªéœ€è¦çš„æŠ€èƒ½ï¼š

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "coding",
        "skills": {
          "enabled": ["coding-agent", "github", "gh-issues", "tmux"],
          "coding-agent": {
            "workDir": "~/projects",
            "allowedCommands": ["npm", "node", "git", "tsc", "pnpm"],
            "autoApprove": false,
          },
        },
      },
      {
        "agentId": "office",
        "skills": {
          "enabled": ["gog", "slack", "notion", "trello", "summarize"],
          "gog": {
            "timezone": "Asia/Shanghai",
            "language": "zh-CN",
          },
        },
      },
      {
        "agentId": "social",
        "skills": {
          "enabled": ["weather", "goplaces", "summarize"],
          "disabled": ["coding-agent", "github", "tmux"],
        },
      },
    ],
  },
}
```

> â­ï¸ **å°ç™½å¯è·³è¿‡** â€” é»˜è®¤çš„æ²™ç®±é…ç½®å·²ç»è¶³å¤Ÿå®‰å…¨

### æ²™ç®±éš”ç¦»

å¯¹äºå¤„ç†ä¸å¯ä¿¡æ¶ˆæ¯çš„ Agentï¼ˆæ¯”å¦‚å…¬å¼€é¢‘é“çš„ Agentï¼‰ï¼Œå»ºè®®å¯ç”¨æ²™ç®±ã€‚OpenClaw ä½¿ç”¨ `mode: "non-main"` æ¨¡å¼ï¼Œè®©éä¸»ä¼šè¯åœ¨ Docker æ²™ç®±ä¸­è¿è¡Œï¼š

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        // éä¸»ä¼šè¯è‡ªåŠ¨åœ¨ Docker æ²™ç®±ä¸­è¿è¡Œ
        "mode": "non-main",
      },
    },
  },
}
```

**å·¥å…· allowlist å’Œ denylistï¼š**

æ²™ç®±ç¯å¢ƒä¸­ï¼ŒAgent å¯ç”¨çš„å·¥å…·å—åˆ°ä¸¥æ ¼é™åˆ¶ï¼š

| ç±»å‹ | å·¥å…·åˆ—è¡¨ |
|------|----------|
| allowlistï¼ˆå…è®¸ä½¿ç”¨ï¼‰ | `bash`, `process`, `read`, `write`, `edit`, `sessions_list`, `sessions_history`, `sessions_send`, `sessions_spawn` |
| denylistï¼ˆç¦æ­¢ä½¿ç”¨ï¼‰ | `browser`, `canvas`, `nodes`, `cron`, `discord`, `gateway` |

allowlist ä¸­çš„å·¥å…·æ˜¯ Agent åœ¨æ²™ç®±ä¸­å¯ä»¥è°ƒç”¨çš„å…¨éƒ¨å·¥å…·ã€‚denylist ä¸­çš„å·¥å…·å³ä½¿åœ¨ allowlist ä¸­ä¹Ÿä¼šè¢«é˜»æ­¢ï¼Œç¡®ä¿æ²™ç®±å†…çš„ Agent æ— æ³•è®¿é—®æµè§ˆå™¨ã€ç®¡ç† Gateway æˆ–æ“ä½œ Discord ç­‰å¤–éƒ¨æœåŠ¡ã€‚

### è®¤è¯éš”ç¦»

æ¯ä¸ª Agent çš„è®¤è¯å‡­è¯æ˜¯ç‹¬ç«‹çš„ï¼š

```
~/.openclaw/agents/<agentId>/agent/auth-profiles.json
```

main Agent çš„ Google å‡­è¯ä¸ä¼šè‡ªåŠ¨å…±äº«ç»™ coding Agentã€‚å¦‚æœ coding Agent ä¹Ÿéœ€è¦è®¿é—® Googleï¼Œéœ€è¦å•ç‹¬è®¤è¯ï¼š

```bash
# ä¸º coding Agent è®¤è¯ Google
openclaw auth google --agent coding

# ä¸º coding Agent è®¤è¯ GitHub
openclaw auth github --agent coding
```

å¦‚æœä½ ç¡®å®éœ€è¦å…±äº«å‡­è¯ï¼Œå¯ä»¥æ‰‹åŠ¨å¤åˆ¶ï¼š

```bash
cp ~/.openclaw/agents/main/agent/auth-profiles.json \
   ~/.openclaw/agents/coding/agent/auth-profiles.json
```

ä½†ä¸æ¨èè¿™æ ·åš -- ç‹¬ç«‹è®¤è¯æ›´å®‰å…¨ï¼Œè€Œä¸”å¯ä»¥ä¸ºä¸åŒ Agent ä½¿ç”¨ä¸åŒçš„è´¦å·ã€‚

## Agent æ€§èƒ½ç›‘æ§

### æŸ¥çœ‹ Agent ä½¿ç”¨ç»Ÿè®¡

```bash
# æŸ¥çœ‹æ‰€æœ‰ Agent
openclaw agents list

# æŸ¥çœ‹æ´»è·ƒä¼šè¯
openclaw sessions list

# æ¸…ç†è¿‡æœŸä¼šè¯
openclaw sessions cleanup
```

### ç›‘æ§å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | è¯´æ˜ | å¥åº·èŒƒå›´ | å¼‚å¸¸å¤„ç† |
|------|------|----------|----------|
| å“åº”æ—¶é—´ | ä»æ”¶åˆ°æ¶ˆæ¯åˆ°å‘å‡ºå›å¤ | < 10s | æ£€æŸ¥æ¨¡å‹é€‰æ‹©å’Œç½‘ç»œ |
| Token æ¶ˆè€— | æ¯æ¡æ¶ˆæ¯çš„å¹³å‡ token æ•° | < 5000 | æ£€æŸ¥æŠ€èƒ½åŠ è½½æ˜¯å¦è¿‡å¤š |
| é”™è¯¯ç‡ | å·¥å…·è°ƒç”¨å¤±è´¥çš„æ¯”ä¾‹ | < 5% | æ£€æŸ¥å·¥å…·é…ç½®å’Œæƒé™ |
| ä¼šè¯é•¿åº¦ | å¹³å‡æ¯ä¸ªä¼šè¯çš„æ¶ˆæ¯æ•° | å› åœºæ™¯è€Œå¼‚ | æ£€æŸ¥æ˜¯å¦éœ€è¦ä¼˜åŒ– SOUL.md |

### æˆæœ¬ä¼˜åŒ–å»ºè®®

**1. ä¸ºä½å¤æ‚åº¦ä»»åŠ¡ä½¿ç”¨ä¾¿å®œçš„æ¨¡å‹**

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "social",
        "model": "openai:gpt-5.2-mini",
        // é—²èŠç”¨ä¾¿å®œæ¨¡å‹ï¼Œæ¯æ¡æ¶ˆæ¯æˆæœ¬é™ä½ 10 å€
      },
    ],
  },
}
```

**2. é™åˆ¶æŠ€èƒ½åŠ è½½æ•°é‡**

æ¯ä¸ªåŠ è½½çš„æŠ€èƒ½éƒ½ä¼šå¢åŠ ç³»ç»Ÿæç¤ºè¯çš„é•¿åº¦ï¼Œæ¶ˆè€—æ›´å¤š input tokenã€‚åªå¯ç”¨çœŸæ­£éœ€è¦çš„æŠ€èƒ½ã€‚

**3. è°ƒæ•´ä¼šè¯å‹ç¼©é˜ˆå€¼**

```json5
{
  "agents": {
    "defaults": {
      "compaction": {
        "reserveTokensFloor": 15000,
        // æ›´æ—©å‹ç¼©ä¼šè¯ï¼Œå‡å°‘ token æ¶ˆè€—
      },
    },
  },
}
```

**4. ä½¿ç”¨æ¨¡å‹æ•…éšœè½¬ç§»é™ä½æˆæœ¬**

```json5
{
  "models": {
    "primary": "anthropic:claude-sonnet-4-6",
    "fallback": [
      "openai:gpt-5.2-mini",
      "ollama:llama3.1",
    ],
  },
}
```

ä¸»æ¨¡å‹ä¸å¯ç”¨æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°æ›´ä¾¿å®œçš„å¤‡ç”¨æ¨¡å‹ã€‚

## è‡ªå®šä¹‰ Agent å¼€å‘

### ä»é›¶åˆ›å»ºä¸€ä¸ªä¸“ä¸š Agent

ä¸‹é¢æˆ‘ä»¬ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ª"DevOps ç›‘æ§ Agent"ï¼Œå®ƒèƒ½ç›‘æ§æœåŠ¡å™¨çŠ¶æ€ã€å¤„ç†å‘Šè­¦ã€æ‰§è¡Œç®€å•çš„è¿ç»´æ“ä½œã€‚

**ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Agent**

```bash
openclaw agents add devops
```

**ç¬¬äºŒæ­¥ï¼šç¼–å†™ SOUL.md**

`~/.openclaw/workspace-devops/SOUL.md`ï¼š

```markdown
# DevOps Agent

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ DevOps è¿ç»´åŠ©æ‰‹ï¼Œè´Ÿè´£ç›‘æ§æœåŠ¡å™¨çŠ¶æ€å’Œå¤„ç†å‘Šè­¦ã€‚

## æ€§æ ¼
- å†·é™ã€ç²¾ç¡®ã€æ³¨é‡ç»†èŠ‚
- é‡åˆ°ç´§æ€¥æƒ…å†µä¼šç«‹å³é€šçŸ¥ç”¨æˆ·
- æ“ä½œå‰ä¼šç¡®è®¤ï¼Œæ“ä½œåä¼šéªŒè¯

## ä¸“é•¿
- æœåŠ¡å™¨çŠ¶æ€ç›‘æ§
- æ—¥å¿—åˆ†æå’Œé”™è¯¯æ’æŸ¥
- Docker å®¹å™¨ç®¡ç†
- ç®€å•çš„è¿ç»´æ“ä½œï¼ˆé‡å¯æœåŠ¡ã€æ¸…ç†ç£ç›˜ç­‰ï¼‰

## å®‰å…¨è§„åˆ™ï¼ˆæœ€é‡è¦ï¼‰
- æ°¸è¿œä¸è¦æ‰§è¡Œ rm -rf æˆ–ç±»ä¼¼çš„å±é™©å‘½ä»¤
- é‡å¯æœåŠ¡å‰å¿…é¡»ç¡®è®¤ç”¨æˆ·æ„å›¾
- ä¸ä¿®æ”¹é˜²ç«å¢™è§„åˆ™
- ä¸ä¿®æ”¹ SSH é…ç½®
- æ‰€æœ‰æ“ä½œéƒ½è¦è®°å½•åˆ°æ—¥å¿—

## å‘Šè­¦å¤„ç†æµç¨‹
1. æ”¶åˆ°å‘Šè­¦ â†’ åˆ†æå‘Šè­¦å†…å®¹
2. åˆ¤æ–­ä¸¥é‡ç¨‹åº¦ï¼ˆP0/P1/P2/P3ï¼‰
3. P0/P1 â†’ ç«‹å³é€šçŸ¥ç”¨æˆ· + å°è¯•è‡ªåŠ¨ä¿®å¤
4. P2/P3 â†’ è®°å½•åˆ°æ—¥å¿— + ä¸‹æ¬¡æ±‡æŠ¥æ—¶æåŠ

## è‡ªåŠ¨ä¿®å¤ç­–ç•¥
- ç£ç›˜ç©ºé—´ä¸è¶³ â†’ æ¸…ç† Docker æ— ç”¨é•œåƒå’Œæ—¥å¿—
- æœåŠ¡æ— å“åº” â†’ å°è¯•é‡å¯æœåŠ¡ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰
- å†…å­˜ä½¿ç”¨è¿‡é«˜ â†’ è¯†åˆ«å ç”¨æœ€å¤šçš„è¿›ç¨‹å¹¶æŠ¥å‘Š
- CPU æŒç»­é«˜è´Ÿè½½ â†’ æ”¶é›† top ä¿¡æ¯å¹¶æŠ¥å‘Š

## æ—¥æŠ¥æ ¼å¼
æ¯å¤© 18:00 ç”Ÿæˆè¿ç»´æ—¥æŠ¥ï¼š
- æœåŠ¡å™¨å¥åº·çŠ¶æ€æ¦‚è§ˆ
- ä»Šæ—¥å‘Šè­¦ç»Ÿè®¡
- èµ„æºä½¿ç”¨è¶‹åŠ¿
- éœ€è¦å…³æ³¨çš„é—®é¢˜
```

**ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå·¥ä½œç©ºé—´æŠ€èƒ½**

```bash
mkdir -p ~/.openclaw/workspace-devops/skills/server-monitor
```

`~/.openclaw/workspace-devops/skills/server-monitor/skill.md`ï¼š

````markdown
---
name: server-monitor
description: æœåŠ¡å™¨ç›‘æ§å’Œè¿ç»´æ“ä½œ
triggers:
  - æœåŠ¡å™¨çŠ¶æ€
  - æ£€æŸ¥æœåŠ¡
  - ç£ç›˜ç©ºé—´
  - å†…å­˜ä½¿ç”¨
  - é‡å¯æœåŠ¡
tools:
  - shell_exec
  - file_write
  - file_read
permissions:
  - shell_exec
  - file_write
  - file_read
category: system
---

# æœåŠ¡å™¨ç›‘æ§æŠ€èƒ½

## å¥åº·æ£€æŸ¥

å½“ç”¨æˆ·è¦æ±‚æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¹¶æ•´ç†ç»“æœï¼š

```bash
# CPU å’Œå†…å­˜
top -bn1 | head -20

# ç£ç›˜ç©ºé—´
df -h

# Docker å®¹å™¨çŠ¶æ€
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

# æœ€è¿‘çš„é”™è¯¯æ—¥å¿—
journalctl --since "1 hour ago" --priority err --no-pager | tail -20
```

## æœåŠ¡ç®¡ç†

å½“ç”¨æˆ·è¦æ±‚é‡å¯æœåŠ¡æ—¶ï¼š
1. ç¡®è®¤æœåŠ¡åç§°
2. æ£€æŸ¥æœåŠ¡å½“å‰çŠ¶æ€ï¼š`systemctl status <service>`
3. ç¡®è®¤ç”¨æˆ·æ„å›¾ï¼š"ç¡®å®šè¦é‡å¯ <service> å—ï¼Ÿ"
4. æ‰§è¡Œé‡å¯ï¼š`systemctl restart <service>`
5. éªŒè¯é‡å¯ç»“æœï¼š`systemctl status <service>`
6. è®°å½•æ“ä½œåˆ°æ—¥å¿—
````

**ç¬¬å››æ­¥ï¼šé…ç½®è·¯ç”±å’Œå®šæ—¶ä»»åŠ¡**

```json5
{
  "agents": {
    "list": [
      {
        "agentId": "devops",
        "workspace": "~/.openclaw/workspace-devops",
        "model": "anthropic:claude-sonnet-4-6",
        "temperature": 0.2,
        "skills": {
          "enabled": ["server-monitor", "summarize"],
        },
        "bindings": [
          {
            "channel": "slack",
            "teamId": "T01234567",
            "channelId": "C-ops-channel",
          },
        ],
      },
    ],
  },
  "schedules": [
    {
      "name": "health-check",
      "cron": "*/30 * * * *",
      "agentId": "devops",
      "prompt": "æ‰§è¡ŒæœåŠ¡å™¨å¥åº·æ£€æŸ¥ï¼Œå¦‚æœå‘ç°å¼‚å¸¸ï¼Œé€šè¿‡ Slack é€šçŸ¥ #ops é¢‘é“",
    },
    {
      "name": "daily-report",
      "cron": "0 18 * * *",
      "agentId": "devops",
      "prompt": "ç”Ÿæˆä»Šæ—¥è¿ç»´æ—¥æŠ¥ï¼Œå‘é€åˆ° Slack #ops é¢‘é“",
    },
  ],
}
```

### Agent å¼€å‘æœ€ä½³å®è·µ

**1. SOUL.md è¦å…·ä½“ï¼Œä¸è¦æ¨¡ç³Š**

```markdown
# å·®çš„å†™æ³•
ä½ æ˜¯ä¸€ä¸ªåŠ©æ‰‹ï¼Œå¸®ç”¨æˆ·åšäº‹ã€‚

# å¥½çš„å†™æ³•
ä½ æ˜¯ä¸€ä¸ª TypeScript ç¼–ç¨‹åŠ©æ‰‹ã€‚
- æ‰€æœ‰ä»£ç ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª Airbnb ä»£ç é£æ ¼
- å‡½æ•°å¿…é¡»æœ‰ JSDoc æ³¨é‡Š
- ä¸ä½¿ç”¨ any ç±»å‹
```

**2. æ˜ç¡®å®šä¹‰è¾¹ç•Œ**

åœ¨ SOUL.md ä¸­æ˜ç¡®è¯´æ˜ Agent ä¸åº”è¯¥åšä»€ä¹ˆï¼š

```markdown
## ä¸è¦åšçš„äº‹
- ä¸è¦æ‰§è¡Œä»»ä½• Shell å‘½ä»¤
- ä¸è¦ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶
- ä¸è¦å›ç­”è·Ÿä½ èŒè´£æ— å…³çš„é—®é¢˜
- ä¸è¦æ³„éœ²å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯
```

**3. æä¾›é”™è¯¯å¤„ç†æŒ‡å¼•**

```markdown
## å¼‚å¸¸å¤„ç†
- å¦‚æœå·¥å…·è°ƒç”¨å¤±è´¥ï¼Œå‘Šè¯‰ç”¨æˆ·å…·ä½“çš„é”™è¯¯ä¿¡æ¯
- å¦‚æœä¸ç¡®å®šç­”æ¡ˆï¼Œè¯´"æˆ‘ä¸ç¡®å®š"è€Œä¸æ˜¯ç¼–é€ 
- å¦‚æœç”¨æˆ·çš„è¯·æ±‚è¶…å‡ºä½ çš„èƒ½åŠ›èŒƒå›´ï¼Œå»ºè®®ä»–ä»¬è”ç³»äººå·¥æ”¯æŒ
```

**4. å®šæœŸå®¡æŸ¥å’Œä¼˜åŒ–**

æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡ï¼š
- Agent çš„å“åº”è´¨é‡æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Ÿ
- æœ‰æ²¡æœ‰è¯¯è§¦å‘æˆ–æ¼è§¦å‘çš„æƒ…å†µï¼Ÿ
- Token æ¶ˆè€—æ˜¯å¦åˆç†ï¼Ÿ
- SOUL.md æ˜¯å¦éœ€è¦æ›´æ–°ï¼Ÿ

## Agent è°ƒè¯•æŠ€å·§

### å¼€å¯è¯¦ç»†æ—¥å¿—

```bash
# å¯åŠ¨ Gateway æ—¶å¼€å¯ Agent è°ƒè¯•
openclaw gateway --verbose --agent-debug

# æˆ–è€…åœ¨é…ç½®ä¸­å¼€å¯
```

```json5
{
  "agents": {
    "defaults": {
      "debug": true,
      "logLevel": "debug",
    },
  },
}
```

å¼€å¯åï¼Œä½ ä¼šåœ¨æ—¥å¿—ä¸­çœ‹åˆ°ï¼š

```
[AGENT] Message received from telegram:chat=-100123456789
[AGENT] Routing: matched binding â†’ agent=social
[AGENT] Loading workspace: ~/.openclaw/workspace-social
[AGENT] Loading SOUL.md (tokens: 320)
[AGENT] Loading MEMORY.md (tokens: 150)
[AGENT] Loading skills: weather, goplaces, summarize
[AGENT] Total system prompt tokens: 1,850
[AGENT] Calling model: openai:gpt-5.2-mini
[AGENT] Model response received (tokens: 120, time: 1.2s)
[AGENT] Sending response to telegram:chat=-100123456789
```

### å¸¸è§é—®é¢˜æ’æŸ¥

**é—®é¢˜ï¼šæ¶ˆæ¯æ²¡æœ‰è·¯ç”±åˆ°æ­£ç¡®çš„ Agent**

æ’æŸ¥æ­¥éª¤ï¼š

1. æ£€æŸ¥ bindings é…ç½®æ˜¯å¦æ­£ç¡®ï¼š
```bash
openclaw agents list
```

2. ç¡®è®¤é¢‘é“ ID æ˜¯å¦æ­£ç¡®ï¼ˆDiscord å’Œ Telegram çš„ ID æ ¼å¼ä¸åŒï¼‰

3. æ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ª Agent ç»‘å®šäº†åŒä¸€ä¸ªé¢‘é“ï¼ˆå…ˆåŒ¹é…çš„ä¼šç”Ÿæ•ˆï¼‰

4. æŸ¥çœ‹è·¯ç”±æ—¥å¿—ï¼š
```bash
openclaw gateway --verbose 2>&1 | grep "AGENT.*Routing"
```

**é—®é¢˜ï¼šAgent çš„å›å¤ä¸ç¬¦åˆ SOUL.md çš„è®¾å®š**

æ’æŸ¥æ­¥éª¤ï¼š

1. ç¡®è®¤ SOUL.md æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼ˆåœ¨ Agent çš„å·¥ä½œç©ºé—´æ ¹ç›®å½•ä¸‹ï¼‰

2. æ£€æŸ¥ SOUL.md æ˜¯å¦è¢«æ­£ç¡®åŠ è½½ï¼š
```bash
openclaw gateway --verbose 2>&1 | grep "Loading SOUL"
```

3. SOUL.md çš„æŒ‡ä»¤æ˜¯å¦å¤ªæ¨¡ç³Šï¼Ÿå°è¯•ç”¨æ›´å…·ä½“çš„è¯­è¨€

4. æ˜¯å¦æœ‰å…¶ä»–æŠ€èƒ½çš„æŒ‡ä»¤è¦†ç›–äº† SOUL.md çš„è®¾å®šï¼Ÿæ£€æŸ¥æŠ€èƒ½ä¼˜å…ˆçº§

**é—®é¢˜ï¼šAgent çš„å·¥å…·è°ƒç”¨å¤±è´¥**

æ’æŸ¥æ­¥éª¤ï¼š

1. æ£€æŸ¥æŠ€èƒ½æ˜¯å¦æ­£ç¡®å¯ç”¨ï¼ˆæŸ¥çœ‹ `openclaw.json` ä¸­å¯¹åº” Agent çš„ `skills.enabled` é…ç½®ï¼‰

2. æ£€æŸ¥å·¥å…·ä¾èµ–æ˜¯å¦å®‰è£…ï¼ˆå¦‚ `gh`ã€`ffmpeg`ï¼‰

3. æ£€æŸ¥æƒé™é…ç½®ï¼ˆç¡®è®¤å·¥å…·åœ¨æ²™ç®± allowlist ä¸­ï¼‰

4. æŸ¥çœ‹å·¥å…·è°ƒç”¨æ—¥å¿—ï¼š
```bash
openclaw gateway --verbose 2>&1 | grep "Tool call"
```

**é—®é¢˜ï¼šAgent ä¹‹é—´çš„å…±äº«æ–‡ä»¶ä¸åŒæ­¥**

æ’æŸ¥æ­¥éª¤ï¼š

1. ç¡®è®¤å…±äº«ç›®å½•å­˜åœ¨ä¸”ä¸¤ä¸ª Agent éƒ½æœ‰è¯»å†™æƒé™

2. æ£€æŸ¥å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼ˆå†™å…¥ Agent å¿…é¡»å…ˆäºè¯»å– Agent æ‰§è¡Œï¼‰

3. æŸ¥çœ‹ä¼šè¯æ—¥å¿—ï¼ˆä½¿ç”¨ sessions_history å·¥å…·æˆ–æ£€æŸ¥ Gateway æ—¥å¿—ï¼‰

### ä½¿ç”¨ WebChat è°ƒè¯•

WebChat æ˜¯è°ƒè¯• Agent æœ€æ–¹ä¾¿çš„å·¥å…·ã€‚ä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è·Ÿä»»æ„ Agent å¯¹è¯ï¼š

```bash
# å¯åŠ¨ Gatewayï¼ˆå¦‚æœè¿˜æ²¡å¯åŠ¨ï¼‰
openclaw gateway --port 18789

# æ‰“å¼€æµè§ˆå™¨è®¿é—®
# http://localhost:18789/chat?agent=coding
# http://localhost:18789/chat?agent=social
```

é€šè¿‡ URL å‚æ•° `?agent=<agentId>` å¯ä»¥æŒ‡å®šè·Ÿå“ªä¸ª Agent å¯¹è¯ï¼Œæ–¹ä¾¿é€ä¸ªæµ‹è¯•ã€‚

## å¸¸è§é—®é¢˜

### æœ€å¤šèƒ½åˆ›å»ºå¤šå°‘ä¸ª Agentï¼Ÿ

æ²¡æœ‰ç¡¬æ€§é™åˆ¶ï¼Œä½†æ¯ä¸ª Agent éƒ½ä¼šå ç”¨ä¸€äº›ç£ç›˜ç©ºé—´ï¼ˆå·¥ä½œç©ºé—´ã€ä¼šè¯å†å²ã€è®°å¿†æ–‡ä»¶ï¼‰ã€‚å®é™…ä½¿ç”¨ä¸­ï¼Œ3-5 ä¸ª Agent æ˜¯æ¯”è¾ƒå¸¸è§çš„é…ç½®ã€‚è¶…è¿‡ 10 ä¸ª Agent å¯èƒ½ä¼šè®©ç®¡ç†å˜å¾—å¤æ‚ã€‚

### Agent ä¹‹é—´èƒ½å…±äº«è®°å¿†å—ï¼Ÿ

é»˜è®¤ä¸èƒ½ã€‚æ¯ä¸ª Agent æœ‰ç‹¬ç«‹çš„ MEMORY.md å’Œæ¯æ—¥æ—¥å¿—ã€‚å¦‚æœä½ éœ€è¦å…±äº«æŸäº›ä¿¡æ¯ï¼Œå¯ä»¥ï¼š

1. æŠŠå…±äº«ä¿¡æ¯å†™å…¥å…¬å…±ç›®å½•ï¼ˆå¦‚ `~/.openclaw/shared/`ï¼‰
2. åœ¨æ¯ä¸ª Agent çš„ SOUL.md ä¸­æŒ‡ç¤ºå®ƒè¯»å–å…¬å…±ç›®å½•
3. æ‰‹åŠ¨å¤åˆ¶è®°å¿†æ–‡ä»¶ï¼ˆä¸æ¨èï¼Œå®¹æ˜“å†²çªï¼‰

### èƒ½ä¸èƒ½è®©ä¸€ä¸ª Agent è°ƒç”¨å¦ä¸€ä¸ª Agentï¼Ÿ

å¯ä»¥ã€‚OpenClaw æä¾›äº† Sessions å·¥å…·æ¥å®ç° Agent é—´çš„ç›´æ¥é€šä¿¡ï¼š

- `sessions_list` -- å‘ç°æ´»è·ƒä¼šè¯
- `sessions_send` -- å‘å¦ä¸€ä¸ªä¼šè¯å‘æ¶ˆæ¯ï¼ˆæ”¯æŒ reply-back ping-pong å’Œ announce step æ¨¡å¼ï¼‰
- `sessions_spawn` -- ç”Ÿæˆæ–°çš„ Agent ä¼šè¯

å¦‚æœä¸éœ€è¦å®æ—¶é€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®šæ—¶ä»»åŠ¡ + å…±äº«æ–‡ä»¶çš„æ–¹å¼ï¼ˆå‚è§"Agent é—´é€šä¿¡æœºåˆ¶"ç« èŠ‚ï¼‰ã€‚

### åˆ é™¤ Agent ä¼šä¸¢å¤±æ•°æ®å—ï¼Ÿ

åˆ é™¤ Agent ä¼šç§»é™¤ Agent çš„çŠ¶æ€ç›®å½•ï¼ˆ`~/.openclaw/agents/<agentId>/`ï¼‰ï¼Œä½†ä¸ä¼šåˆ é™¤å·¥ä½œç©ºé—´ç›®å½•ã€‚ä½ çš„ SOUL.mdã€è®°å¿†æ–‡ä»¶ã€æŠ€èƒ½æ–‡ä»¶éƒ½è¿˜åœ¨ã€‚å¦‚æœè¦å½»åº•æ¸…ç†ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤å·¥ä½œç©ºé—´ç›®å½•ã€‚

### å¤šä¸ª Agent ç»‘å®šåŒä¸€ä¸ªé¢‘é“ä¼šæ€æ ·ï¼Ÿ

åªæœ‰ç¬¬ä¸€ä¸ªåŒ¹é…çš„ Agent ä¼šå¤„ç†æ¶ˆæ¯ã€‚å¦‚æœä½ ä¸å°å¿ƒæŠŠä¸¤ä¸ª Agent ç»‘å®šåˆ°äº†åŒä¸€ä¸ªé¢‘é“ï¼Œæ£€æŸ¥ `openclaw.json` ä¸­ `agents.list` çš„é¡ºåº -- æ’åœ¨å‰é¢çš„ Agent ä¼˜å…ˆåŒ¹é…ã€‚

### Agent çš„ä¼šè¯æ˜¯ç‹¬ç«‹çš„å—ï¼Ÿ

æ˜¯çš„ï¼Œå®Œå…¨ç‹¬ç«‹ã€‚coding Agent çš„å¯¹è¯å†å²ä¸ä¼šå‡ºç°åœ¨ social Agent çš„ä¸Šä¸‹æ–‡ä¸­ã€‚è¿™æ˜¯è®¾è®¡å¦‚æ­¤ -- ä¿è¯æ¯ä¸ª Agent çš„ä¸Šä¸‹æ–‡å¹²å‡€ã€ä¸“æ³¨ã€‚

### å¦‚ä½•è¿ç§» Agent åˆ°å¦ä¸€å°æœºå™¨ï¼Ÿ

å¤åˆ¶ä»¥ä¸‹ç›®å½•åˆ°æ–°æœºå™¨ï¼š

```bash
# Agent çŠ¶æ€ï¼ˆè®¤è¯å‡­è¯ã€ä¼šè¯å†å²ï¼‰
~/.openclaw/agents/<agentId>/

# Agent å·¥ä½œç©ºé—´ï¼ˆSOUL.mdã€è®°å¿†ã€æŠ€èƒ½ï¼‰
~/.openclaw/workspace-<agentId>/
```

ç„¶ååœ¨æ–°æœºå™¨çš„ `openclaw.json` ä¸­æ·»åŠ å¯¹åº”çš„ Agent é…ç½®ã€‚

### å¤š Agent æ¨¡å¼ä¸‹ Gateway çš„èµ„æºæ¶ˆè€—ä¼šå¢åŠ å—ï¼Ÿ

Gateway æœ¬èº«çš„èµ„æºæ¶ˆè€—ä¸ä¼šæ˜¾è‘—å¢åŠ ã€‚Agent æ˜¯æŒ‰éœ€åŠ è½½çš„ -- åªæœ‰æ”¶åˆ°æ¶ˆæ¯æ—¶æ‰ä¼šæ¿€æ´»å¯¹åº”çš„ Agentã€‚ç©ºé—²çš„ Agent ä¸å ç”¨ CPU å’Œå†…å­˜ã€‚ä¸»è¦çš„é¢å¤–æ¶ˆè€—æ¥è‡ªï¼š

- ç£ç›˜ç©ºé—´ï¼šæ¯ä¸ª Agent çš„å·¥ä½œç©ºé—´å’Œä¼šè¯å†å²
- AI API è°ƒç”¨ï¼šæ¯ä¸ª Agent ç‹¬ç«‹è®¡è´¹

### èƒ½ä¸èƒ½åŠ¨æ€åˆ›å»ºå’Œé”€æ¯ Agentï¼Ÿ

Agent çš„åˆ›å»ºéœ€è¦é€šè¿‡ CLI å‘½ä»¤ï¼ˆ`openclaw agents add`ï¼‰ã€‚ä½†åœ¨è¿è¡Œæ—¶ï¼ŒAgent å¯ä»¥é€šè¿‡ `sessions_spawn` å·¥å…·åŠ¨æ€ç”Ÿæˆæ–°çš„ä¼šè¯ï¼Œå®ç°ä¸´æ—¶ä»»åŠ¡çš„åˆ†å‘ã€‚

## ä¸‹ä¸€æ­¥

å¤š Agent åä½œæå®šï¼å» [09. Docker éƒ¨ç½²](09-Dockeréƒ¨ç½²æŒ‡å—.md) å­¦ä¹ å¦‚ä½•æŠŠ OpenClaw å®¹å™¨åŒ–éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼
